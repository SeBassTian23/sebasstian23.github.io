/*! For license information please see calendarheatmap.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CalendarHeatmap=e():t.CalendarHeatmap=e()}(this,()=>(()=>{var t={2:(t,e,n)=>{var r=n(2199),i=n(4664),s=n(5950);t.exports=function(t){return r(t,s,i)}},79:(t,e,n)=>{var r=n(3702),i=n(80),s=n(4739),o=n(8655),a=n(1175);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,t.exports=l},80:(t,e,n)=>{var r=n(6025),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},181:t=>{t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},270:(t,e,n)=>{var r=n(7068),i=n(346);t.exports=function t(e,n,s,o,a){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,s,o,t,a))}},289:(t,e,n)=>{var r=n(2651);t.exports=function(t){return r(this,t).get(t)}},294:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},317:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},346:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},361:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},392:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},659:(t,e,n)=>{var r=n(1873),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=s.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var i=o.call(t);return r&&(e?t[a]=n:delete t[a]),i}},689:(t,e,n)=>{var r=n(2),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,s,o,a){var l=1&n,u=r(t),h=u.length;if(h!=r(e).length&&!l)return!1;for(var c=h;c--;){var f=u[c];if(!(l?f in e:i.call(e,f)))return!1}var d=a.get(t),p=a.get(e);if(d&&p)return d==e&&p==t;var m=!0;a.set(t,e),a.set(e,t);for(var g=l;++c<h;){var b=t[f=u[c]],y=e[f];if(s)var v=l?s(y,b,f,e,t,a):s(b,y,f,t,e,a);if(!(void 0===v?b===y||o(b,y,n,s,a):v)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var w=t.constructor,x=e.constructor;w==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return a.delete(t),a.delete(e),m}},695:(t,e,n)=>{var r=n(8096),i=n(2428),s=n(6449),o=n(3656),a=n(361),l=n(7167),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=s(t),h=!n&&i(t),c=!n&&!h&&o(t),f=!n&&!h&&!c&&l(t),d=n||h||c||f,p=d?r(t.length,String):[],m=p.length;for(var g in t)!e&&!u.call(t,g)||d&&("length"==g||c&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||p.push(g);return p}},938:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},945:(t,e,n)=>{var r=n(79),i=n(8223),s=n(3661);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new s(o)}return n.set(t,e),this.size=n.size,this}},999:(t,e,n)=>{var r=n(9302),i=n(6800);t.exports=function(t){return r(function(e,n){var r=-1,s=n.length,o=s>1?n[s-1]:void 0,a=s>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(s--,o):void 0,a&&i(n[0],n[1],a)&&(o=s<3?void 0:o,s=1),e=Object(e);++r<s;){var l=n[r];l&&t(e,l,r,o)}return e})}},1033:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},1042:(t,e,n)=>{var r=n(6110)(Object,"create");t.exports=r},1175:(t,e,n)=>{var r=n(6025);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},1331:(t,e,n)=>{var r=n(2552),i=n(8879),s=n(346),o=Function.prototype,a=Object.prototype,l=o.toString,u=a.hasOwnProperty,h=l.call(Object);t.exports=function(t){if(!s(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==h}},1380:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},1420:(t,e,n)=>{var r=n(79);t.exports=function(){this.__data__=new r,this.size=0}},1459:t=>{t.exports=function(t){return this.__data__.has(t)}},1549:(t,e,n)=>{var r=n(2032),i=n(3862),s=n(6721),o=n(2749),a=n(5749);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,t.exports=l},1791:(t,e,n)=>{var r=n(6547),i=n(3360);t.exports=function(t,e,n,s){var o=!n;n||(n={});for(var a=-1,l=e.length;++a<l;){var u=e[a],h=s?s(n[u],t[u],u,n,t):void 0;void 0===h&&(h=t[u]),o?i(n,u,h):r(n,u,h)}return n}},1811:t=>{var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var i=e(),s=16-(i-r);if(r=i,s>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},1840:function(t){t.exports=function(){"use strict";return function(t,e,n){var r=e.prototype,i=function(t){return t&&(t.indexOf?t:t.s)},s=function(t,e,n,r,s){var o=t.name?t:t.$locale(),a=i(o[e]),l=i(o[n]),u=a||l.map(function(t){return t.slice(0,r)});if(!s)return u;var h=o.weekStart;return u.map(function(t,e){return u[(e+(h||0))%7]})},o=function(){return n.Ls[n.locale()]},a=function(t,e){return t.formats[e]||function(t){return t.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(t,e,n){return e||n.slice(1)})}(t.formats[e.toUpperCase()])},l=function(){var t=this;return{months:function(e){return e?e.format("MMMM"):s(t,"months")},monthsShort:function(e){return e?e.format("MMM"):s(t,"monthsShort","months",3)},firstDayOfWeek:function(){return t.$locale().weekStart||0},weekdays:function(e){return e?e.format("dddd"):s(t,"weekdays")},weekdaysMin:function(e){return e?e.format("dd"):s(t,"weekdaysMin","weekdays",2)},weekdaysShort:function(e){return e?e.format("ddd"):s(t,"weekdaysShort","weekdays",3)},longDateFormat:function(e){return a(t.$locale(),e)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return l.bind(this)()},n.localeData=function(){var t=o();return{firstDayOfWeek:function(){return t.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(e){return a(t,e)},meridiem:t.meridiem,ordinal:t.ordinal}},n.months=function(){return s(o(),"months")},n.monthsShort=function(){return s(o(),"monthsShort","months",3)},n.weekdays=function(t){return s(o(),"weekdays",null,null,t)},n.weekdaysShort=function(t){return s(o(),"weekdaysShort","weekdays",3,t)},n.weekdaysMin=function(t){return s(o(),"weekdaysMin","weekdays",2,t)}}}()},1873:(t,e,n)=>{var r=n(9325).Symbol;t.exports=r},1882:(t,e,n)=>{var r=n(2552),i=n(3805);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1961:(t,e,n)=>{var r=n(9653);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},1986:(t,e,n)=>{var r=n(1873),i=n(7828),s=n(5288),o=n(5911),a=n(317),l=n(4247),u=r?r.prototype:void 0,h=u?u.valueOf:void 0;t.exports=function(t,e,n,r,u,c,f){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!c(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=a;case"[object Set]":var p=1&r;if(d||(d=l),t.size!=e.size&&!p)return!1;var m=f.get(t);if(m)return m==e;r|=2,f.set(t,e);var g=o(d(t),d(e),r,u,c,f);return f.delete(t),g;case"[object Symbol]":if(h)return h.call(t)==h.call(e)}return!1}},2032:(t,e,n)=>{var r=n(1042);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},2199:(t,e,n)=>{var r=n(4528),i=n(6449);t.exports=function(t,e,n){var s=e(t);return i(t)?s:r(s,n(t))}},2271:(t,e,n)=>{var r=n(1791),i=n(4664);t.exports=function(t,e){return r(t,i(t),e)}},2404:(t,e,n)=>{var r=n(270);t.exports=function(t,e){return r(t,e)}},2428:(t,e,n)=>{var r=n(7534),i=n(346),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&o.call(t,"callee")&&!a.call(t,"callee")};t.exports=l},2552:(t,e,n)=>{var r=n(1873),i=n(659),s=n(9350),o=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?i(t):s(t)}},2651:(t,e,n)=>{var r=n(4218);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},2749:(t,e,n)=>{var r=n(1042),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},2804:(t,e,n)=>{var r=n(6110)(n(9325),"Promise");t.exports=r},2824:(t,e,n)=>{var r=n(7805),i=n(3290),s=n(1961),o=n(3007),a=n(5529),l=n(2428),u=n(6449),h=n(3693),c=n(3656),f=n(1882),d=n(3805),p=n(1331),m=n(7167),g=n(4974),b=n(9884);t.exports=function(t,e,n,y,v,w,x){var _=g(t,n),k=g(e,n),M=x.get(k);if(M)r(t,n,M);else{var O=w?w(_,k,n+"",t,e,x):void 0,A=void 0===O;if(A){var j=u(k),S=!j&&c(k),C=!j&&!S&&m(k);O=k,j||S||C?u(_)?O=_:h(_)?O=o(_):S?(A=!1,O=i(k,!0)):C?(A=!1,O=s(k,!0)):O=[]:p(k)||l(k)?(O=_,l(_)?O=b(_):d(_)&&!f(_)||(O=a(k))):A=!1}A&&(x.set(k,O),v(O,k,y,w,x),x.delete(k)),r(t,n,O)}}},2865:(t,e,n)=>{var r=n(9570),i=n(1811)(r);t.exports=i},2903:(t,e,n)=>{var r=n(3805),i=n(5527),s=n(181),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return s(t);var e=i(t),n=[];for(var a in t)("constructor"!=a||!e&&o.call(t,a))&&n.push(a);return n}},2949:(t,e,n)=>{var r=n(2651);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},3007:t=>{t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},3040:(t,e,n)=>{var r=n(1549),i=n(79),s=n(8223);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||i),string:new r}}},3200:function(t){t.exports=function(){"use strict";return function(t,e,n){var r=function(t,e){if(!e||!e.length||1===e.length&&!e[0]||1===e.length&&Array.isArray(e[0])&&!e[0].length)return null;var n;1===e.length&&e[0].length>0&&(e=e[0]),n=(e=e.filter(function(t){return t}))[0];for(var r=1;r<e.length;r+=1)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n};n.max=function(){var t=[].slice.call(arguments,0);return r("isAfter",t)},n.min=function(){var t=[].slice.call(arguments,0);return r("isBefore",t)}}}()},3201:t=>{var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},3221:t=>{t.exports=function(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(!1===n(s[l],l,s))break}return e}}},3243:(t,e,n)=>{var r=n(6110),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},3290:(t,e,n)=>{t=n.nmd(t);var r=n(9325),i=e&&!e.nodeType&&e,s=i&&t&&!t.nodeType&&t,o=s&&s.exports===i?r.Buffer:void 0,a=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=a?a(n):new t.constructor(n);return t.copy(r),r}},3345:t=>{t.exports=function(){return[]}},3349:(t,e,n)=>{var r=n(2199),i=n(6375),s=n(7241);t.exports=function(t){return r(t,s,i)}},3360:(t,e,n)=>{var r=n(3243);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},3488:t=>{t.exports=function(t){return t}},3581:function(t){t.exports=function(){"use strict";return function(t,e,n){n.updateLocale=function(t,e){var r=n.Ls[t];if(r)return(e?Object.keys(e):[]).forEach(function(t){r[t]=e[t]}),r}}}()},3605:t=>{t.exports=function(t){return this.__data__.get(t)}},3650:(t,e,n)=>{var r=n(4335)(Object.keys,Object);t.exports=r},3656:(t,e,n)=>{t=n.nmd(t);var r=n(9325),i=n(9935),s=e&&!e.nodeType&&e,o=s&&t&&!t.nodeType&&t,a=o&&o.exports===s?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||i;t.exports=l},3661:(t,e,n)=>{var r=n(3040),i=n(7670),s=n(289),o=n(4509),a=n(2949);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,t.exports=l},3693:(t,e,n)=>{var r=n(4894),i=n(346);t.exports=function(t){return i(t)&&r(t)}},3702:t=>{t.exports=function(){this.__data__=[],this.size=0}},3729:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},3736:(t,e,n)=>{var r=n(1873),i=r?r.prototype:void 0,s=i?i.valueOf:void 0;t.exports=function(t){return s?Object(s.call(t)):{}}},3805:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},3838:(t,e,n)=>{var r=n(1791),i=n(7241);t.exports=function(t,e){return t&&r(e,i(e),t)}},3862:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},4218:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},4247:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},4248:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},4335:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},4353:function(t){t.exports=function(){"use strict";var t=6e4,e=36e5,n="millisecond",r="second",i="minute",s="hour",o="day",a="week",l="month",u="quarter",h="year",c="date",f="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},g=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},b={s:g,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+g(r,2,"0")+":"+g(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,l),s=n-i<0,o=e.clone().add(r+(s?-1:1),l);return+(-(r+(n-i)/(s?i-o:o-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:h,w:a,d:o,D:c,h:s,m:i,s:r,ms:n,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},y="en",v={};v[y]=m;var w="$isDayjsObject",x=function(t){return t instanceof O||!(!t||!t[w])},_=function t(e,n,r){var i;if(!e)return y;if("string"==typeof e){var s=e.toLowerCase();v[s]&&(i=s),n&&(v[s]=n,i=s);var o=e.split("-");if(!i&&o.length>1)return t(o[0])}else{var a=e.name;v[a]=e,i=a}return!r&&i&&(y=i),i||!r&&y},k=function(t,e){if(x(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new O(n)},M=b;M.l=_,M.i=x,M.w=function(t,e){return k(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var O=function(){function m(t){this.$L=_(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[w]=!0}var g=m.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(M.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(d);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return M},g.isValid=function(){return!(this.$d.toString()===f)},g.isSame=function(t,e){var n=k(t);return this.startOf(e)<=n&&n<=this.endOf(e)},g.isAfter=function(t,e){return k(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<k(t)},g.$g=function(t,e,n){return M.u(t)?this[e]:this.set(n,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var n=this,u=!!M.u(e)||e,f=M.p(t),d=function(t,e){var r=M.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return u?r:r.endOf(o)},p=function(t,e){return M.w(n.toDate()[t].apply(n.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},m=this.$W,g=this.$M,b=this.$D,y="set"+(this.$u?"UTC":"");switch(f){case h:return u?d(1,0):d(31,11);case l:return u?d(1,g):d(0,g+1);case a:var v=this.$locale().weekStart||0,w=(m<v?m+7:m)-v;return d(u?b-w:b+(6-w),g);case o:case c:return p(y+"Hours",0);case s:return p(y+"Minutes",1);case i:return p(y+"Seconds",2);case r:return p(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var a,u=M.p(t),f="set"+(this.$u?"UTC":""),d=(a={},a[o]=f+"Date",a[c]=f+"Date",a[l]=f+"Month",a[h]=f+"FullYear",a[s]=f+"Hours",a[i]=f+"Minutes",a[r]=f+"Seconds",a[n]=f+"Milliseconds",a)[u],p=u===o?this.$D+(e-this.$W):e;if(u===l||u===h){var m=this.clone().set(c,1);m.$d[d](p),m.init(),this.$d=m.set(c,Math.min(this.$D,m.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[M.p(t)]()},g.add=function(n,u){var c,f=this;n=Number(n);var d=M.p(u),p=function(t){var e=k(f);return M.w(e.date(e.date()+Math.round(t*n)),f)};if(d===l)return this.set(l,this.$M+n);if(d===h)return this.set(h,this.$y+n);if(d===o)return p(1);if(d===a)return p(7);var m=(c={},c[i]=t,c[s]=e,c[r]=1e3,c)[d]||1,g=this.$d.getTime()+n*m;return M.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=M.z(this),s=this.$H,o=this.$m,a=this.$M,l=n.weekdays,u=n.months,h=n.meridiem,c=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return M.s(s%12||12,t,"0")},m=h||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(p,function(t,r){return r||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return M.s(e.$y,4,"0");case"M":return a+1;case"MM":return M.s(a+1,2,"0");case"MMM":return c(n.monthsShort,a,u,3);case"MMMM":return c(u,a);case"D":return e.$D;case"DD":return M.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return c(n.weekdaysMin,e.$W,l,2);case"ddd":return c(n.weekdaysShort,e.$W,l,3);case"dddd":return l[e.$W];case"H":return String(s);case"HH":return M.s(s,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return m(s,o,!0);case"A":return m(s,o,!1);case"m":return String(o);case"mm":return M.s(o,2,"0");case"s":return String(e.$s);case"ss":return M.s(e.$s,2,"0");case"SSS":return M.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")})},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,c,f){var d,p=this,m=M.p(c),g=k(n),b=(g.utcOffset()-this.utcOffset())*t,y=this-g,v=function(){return M.m(p,g)};switch(m){case h:d=v()/12;break;case l:d=v();break;case u:d=v()/3;break;case a:d=(y-b)/6048e5;break;case o:d=(y-b)/864e5;break;case s:d=y/e;break;case i:d=y/t;break;case r:d=y/1e3;break;default:d=y}return f?d:M.a(d)},g.daysInMonth=function(){return this.endOf(l).$D},g.$locale=function(){return v[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=_(t,e,!0);return r&&(n.$L=r),n},g.clone=function(){return M.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},m}(),A=O.prototype;return k.prototype=A,[["$ms",n],["$s",r],["$m",i],["$H",s],["$W",o],["$M",l],["$y",h],["$D",c]].forEach(function(t){A[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),k.extend=function(t,e){return t.$i||(t(e,O,k),t.$i=!0),k},k.locale=_,k.isDayjs=x,k.unix=function(t){return k(1e3*t)},k.en=v[y],k.Ls=v,k.p={},k}()},4509:(t,e,n)=>{var r=n(2651);t.exports=function(t){return r(this,t).has(t)}},4528:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},4664:(t,e,n)=>{var r=n(9770),i=n(3345),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(t){return null==t?[]:(t=Object(t),r(o(t),function(e){return s.call(t,e)}))}:i;t.exports=a},4733:(t,e,n)=>{var r=n(1791),i=n(5950);t.exports=function(t,e){return t&&r(e,i(e),t)}},4739:(t,e,n)=>{var r=n(6025);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},4809:function(t,e){var n,r;n=function t(){var e,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,s={},o=0,a={};function l(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=v(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new d(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,e){var r=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<r){let e=this._config.newline;e||(s=this._config.quoteChar||'"',e=this._handle.guessLineEndings(t,s)),t=[...t.split(e).slice(r)].join(e)}this.isFirstChunk&&x(this._config.beforeFirstChunk)&&void 0!==(s=this._config.beforeFirstChunk(t))&&(t=s),this.isFirstChunk=!1,this._halted=!1,r=this._partialLine+t;var s=(this._partialLine="",this._handle.parse(r,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(t=s.meta.cursor,this._finished||(this._partialLine=r.substring(t-this._baseIndex),this._baseIndex=t),s&&s.data&&(this._rowCount+=s.data.length),r=this._finished||this._config.preview&&this._rowCount>=this._config.preview,i)n.postMessage({results:s,workerId:a.WORKER_ID,finished:r});else if(x(this._config.chunk)&&!e){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=s=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!r||!x(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),r||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(t){x(this._config.error)?this._config.error(t):i&&this._config.error&&n.postMessage({workerId:a.WORKER_ID,error:t,finished:!1})}}function u(t){var e;(t=t||{}).chunkSize||(t.chunkSize=a.RemoteChunkSize),l.call(this,t),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),r||(e.onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var t,n=this._config.downloadRequestHeaders;for(t in n)e.setRequestHeader(t,n[t])}var i;this._config.chunkSize&&(i=this._start+this._config.chunkSize-1,e.setRequestHeader("Range","bytes="+this._start+"-"+i));try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}r&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize||e.responseText.length,this._finished=!this._config.chunkSize||this._start>=(t=>null!==(t=t.getResponseHeader("Content-Range"))?parseInt(t.substring(t.lastIndexOf("/")+1)):-1)(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){t=e.statusText||t,this._sendError(new Error(t))}}function h(t){(t=t||{}).chunkSize||(t.chunkSize=a.LocalChunkSize),l.call(this,t);var e,n,r="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,r?((e=new FileReader).onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input,i=(this._config.chunkSize&&(i=Math.min(this._start+this._config.chunkSize,this._input.size),t=n.call(t,this._start,i)),e.readAsText(t,this._config.encoding));r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function c(t){var e;l.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){var t,n;if(!this._finished)return t=this._config.chunkSize,e=t?(n=e.substring(0,t),e.substring(t)):(n=e,""),this._finished=!e,this.parseChunk(n)}}function f(t){l.call(this,t=t||{});var e=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=w(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=w(function(t){this._streamCleanUp(),this._sendError(t)},this),this._streamEnd=w(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=w(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function d(t){var e,n,r,i,s=Math.pow(2,53),o=-s,l=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,u=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,h=this,c=0,f=0,d=!1,g=!1,b=[],y={data:[],errors:[],meta:{}};function w(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function _(){if(y&&r&&(M("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),r=!1),t.skipEmptyLines&&(y.data=y.data.filter(function(t){return!w(t)})),k()){if(y)if(Array.isArray(y.data[0])){for(var e=0;k()&&e<y.data.length;e++)y.data[e].forEach(n);y.data.splice(0,1)}else y.data.forEach(n);function n(e,n){x(t.transformHeader)&&(e=t.transformHeader(e,n)),b.push(e)}}function i(e,n){for(var r=t.header?{}:[],i=0;i<e.length;i++){var a=i,h=e[i];h=((e,n)=>(e=>(t.dynamicTypingFunction&&void 0===t.dynamicTyping[e]&&(t.dynamicTyping[e]=t.dynamicTypingFunction(e)),!0===(t.dynamicTyping[e]||t.dynamicTyping)))(e)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&((t=>{if(l.test(t)&&(t=parseFloat(t),o<t&&t<s))return 1})(n)?parseFloat(n):u.test(n)?new Date(n):""===n?null:n):n)(a=t.header?i>=b.length?"__parsed_extra":b[i]:a,h=t.transform?t.transform(h,a):h),"__parsed_extra"===a?(r[a]=r[a]||[],r[a].push(h)):r[a]=h}return t.header&&(i>b.length?M("FieldMismatch","TooManyFields","Too many fields: expected "+b.length+" fields but parsed "+i,f+n):i<b.length&&M("FieldMismatch","TooFewFields","Too few fields: expected "+b.length+" fields but parsed "+i,f+n)),r}var h;y&&(t.header||t.dynamicTyping||t.transform)&&(h=1,!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(i),h=y.data.length):y.data=i(y.data,0),t.header&&y.meta&&(y.meta.fields=b),f+=h)}function k(){return t.header&&0===b.length}function M(t,e,n,r){t={type:t,code:e,message:n},void 0!==r&&(t.row=r),y.errors.push(t)}x(t.step)&&(i=t.step,t.step=function(e){y=e,k()?_():(_(),0!==y.data.length&&(c+=e.data.length,t.preview&&c>t.preview?n.abort():(y.data=y.data[0],i(y,h))))}),this.parse=function(i,s,o){var l=t.quoteChar||'"';return t.newline||(t.newline=this.guessLineEndings(i,l)),r=!1,t.delimiter?x(t.delimiter)&&(t.delimiter=t.delimiter(i),y.meta.delimiter=t.delimiter):((l=((e,n,r,i,s)=>{var o,l,u,h;s=s||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var c=0;c<s.length;c++){for(var f,d=s[c],p=0,g=0,b=0,y=(u=void 0,new m({comments:i,delimiter:d,newline:n,preview:10}).parse(e)),v=0;v<y.data.length;v++)r&&w(y.data[v])?b++:(g+=f=y.data[v].length,void 0===u?u=f:0<f&&(p+=Math.abs(f-u),u=f));0<y.data.length&&(g/=y.data.length-b),(void 0===l||p<=l)&&(void 0===h||h<g)&&1.99<g&&(l=p,o=d,h=g)}return{successful:!!(t.delimiter=o),bestDelimiter:o}})(i,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess)).successful?t.delimiter=l.bestDelimiter:(r=!0,t.delimiter=a.DefaultDelimiter),y.meta.delimiter=t.delimiter),l=v(t),t.preview&&t.header&&l.preview++,e=i,n=new m(l),y=n.parse(e,s,o),_(),d?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,n.abort(),e=x(t.chunk)?"":e.substring(n.getCharIndex())},this.resume=function(){h.streamer._halted?(d=!1,h.streamer.parseChunk(e,!0)):setTimeout(h.resume,3)},this.aborted=function(){return g},this.abort=function(){g=!0,n.abort(),y.meta.aborted=!0,x(t.complete)&&t.complete(y),e=""},this.guessLineEndings=function(t,e){t=t.substring(0,1048576),e=new RegExp(p(e)+"([^]*?)"+p(e),"gm");var n=(t=t.replace(e,"")).split("\r");if(t=1<(e=t.split("\n")).length&&e[0].length<n[0].length,1===n.length||t)return"\n";for(var r=0,i=0;i<n.length;i++)"\n"===n[i][0]&&r++;return r>=n.length/2?"\r\n":"\r"}}function p(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(t){var e=(t=t||{}).delimiter,n=t.newline,r=t.comments,i=t.step,s=t.preview,o=t.fastMode,l=null,u=!1,h=null==t.quoteChar?'"':t.quoteChar,c=h;if(void 0!==t.escapeChar&&(c=t.escapeChar),("string"!=typeof e||-1<a.BAD_DELIMITERS.indexOf(e))&&(e=","),r===e)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<a.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var f=0,d=!1;this.parse=function(a,m,g){if("string"!=typeof a)throw new Error("Input must be a string");var b=a.length,y=e.length,v=n.length,w=r.length,_=x(i),k=[],M=[],O=[],A=f=0;if(!a)return F();if(o||!1!==o&&-1===a.indexOf(h)){for(var j=a.split(n),S=0;S<j.length;S++){if(O=j[S],f+=O.length,S!==j.length-1)f+=n.length;else if(g)return F();if(!r||O.substring(0,w)!==r){if(_){if(k=[],L(O.split(e)),$(),d)return F()}else L(O.split(e));if(s&&s<=S)return k=k.slice(0,s),F(!0)}}return F()}for(var C=a.indexOf(e,f),E=a.indexOf(n,f),T=new RegExp(p(c)+p(h),"g"),N=a.indexOf(h,f);;)if(a[f]===h)for(N=f,f++;;){if(-1===(N=a.indexOf(h,N+1)))return g||M.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:k.length,index:f}),I();if(N===b-1)return I(a.substring(f,N).replace(T,h));if(h===c&&a[N+1]===c)N++;else if(h===c||0===N||a[N-1]!==c){-1!==C&&C<N+1&&(C=a.indexOf(e,N+1));var D=R(-1===(E=-1!==E&&E<N+1?a.indexOf(n,N+1):E)?C:Math.min(C,E));if(a.substr(N+1+D,y)===e){O.push(a.substring(f,N).replace(T,h)),a[f=N+1+D+y]!==h&&(N=a.indexOf(h,f)),C=a.indexOf(e,f),E=a.indexOf(n,f);break}if(D=R(E),a.substring(N+1+D,N+1+D+v)===n){if(O.push(a.substring(f,N).replace(T,h)),z(N+1+D+v),C=a.indexOf(e,f),N=a.indexOf(h,f),_&&($(),d))return F();if(s&&k.length>=s)return F(!0);break}M.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:k.length,index:f}),N++}}else if(r&&0===O.length&&a.substring(f,f+w)===r){if(-1===E)return F();f=E+v,E=a.indexOf(n,f),C=a.indexOf(e,f)}else if(-1!==C&&(C<E||-1===E))O.push(a.substring(f,C)),f=C+y,C=a.indexOf(e,f);else{if(-1===E)break;if(O.push(a.substring(f,E)),z(E+v),_&&($(),d))return F();if(s&&k.length>=s)return F(!0)}return I();function L(t){k.push(t),A=f}function R(t){return-1!==t&&(t=a.substring(N+1,t))&&""===t.trim()?t.length:0}function I(t){return g||(void 0===t&&(t=a.substring(f)),O.push(t),f=b,L(O),_&&$()),F()}function z(t){f=t,L(O),O=[],E=a.indexOf(n,f)}function F(r){if(t.header&&!m&&k.length&&!u){var i=k[0],s=Object.create(null),o=new Set(i);let e=!1;for(let n=0;n<i.length;n++){let r=i[n];if(s[r=x(t.transformHeader)?t.transformHeader(r,n):r]){let t,a=s[r];for(;t=r+"_"+a,a++,o.has(t););o.add(t),i[n]=t,s[r]++,e=!0,(l=null===l?{}:l)[t]=r}else s[r]=1,i[n]=r;o.add(r)}e&&console.warn("Duplicate headers found and renamed."),u=!0}return{data:k,errors:M,meta:{delimiter:e,linebreak:n,aborted:d,truncated:!!r,cursor:A+(m||0),renamedHeaders:l}}}function $(){i(F()),k=[],M=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return f}}function g(t){var e=t.data,n=s[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var i={abort:function(){r=!0,b(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(x(n.userStep)){for(var o=0;o<e.results.data.length&&(n.userStep({data:e.results.data[o],errors:e.results.errors,meta:e.results.meta},i),!r);o++);delete e.results}else x(n.userChunk)&&(n.userChunk(e.results,i,e.file),delete e.results)}e.finished&&!r&&b(e.workerId,e.results)}function b(t,e){var n=s[t];x(n.userComplete)&&n.userComplete(e),n.terminate(),delete s[t]}function y(){throw new Error("Not implemented.")}function v(t){if("object"!=typeof t||null===t)return t;var e,n=Array.isArray(t)?[]:{};for(e in t)n[e]=v(t[e]);return n}function w(t,e){return function(){t.apply(e,arguments)}}function x(t){return"function"==typeof t}return a.parse=function(e,r){var i=(r=r||{}).dynamicTyping||!1;if(x(i)&&(r.dynamicTypingFunction=i,i={}),r.dynamicTyping=i,r.transform=!!x(r.transform)&&r.transform,!r.worker||!a.WORKERS_SUPPORTED)return i=null,a.NODE_STREAM_INPUT,"string"==typeof e?(e=(t=>65279!==t.charCodeAt(0)?t:t.slice(1))(e),i=new(r.download?u:c)(r)):!0===e.readable&&x(e.read)&&x(e.on)?i=new f(r):(n.File&&e instanceof File||e instanceof Object)&&(i=new h(r)),i.stream(e);(i=(()=>{var e;return!!a.WORKERS_SUPPORTED&&(e=(()=>{var e=n.URL||n.webkitURL||null,r=t.toString();return a.BLOB_URL||(a.BLOB_URL=e.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))})(),(e=new n.Worker(e)).onmessage=g,e.id=o++,s[e.id]=e)})()).userStep=r.step,i.userChunk=r.chunk,i.userComplete=r.complete,i.userError=r.error,r.step=x(r.step),r.chunk=x(r.chunk),r.complete=x(r.complete),r.error=x(r.error),delete r.worker,i.postMessage({input:e,config:r,workerId:i.id})},a.unparse=function(t,e){var n=!1,r=!0,i=",",s="\r\n",o='"',l=o+o,u=!1,h=null,c=!1,f=((()=>{if("object"==typeof e){if("string"!=typeof e.delimiter||a.BAD_DELIMITERS.filter(function(t){return-1!==e.delimiter.indexOf(t)}).length||(i=e.delimiter),"boolean"!=typeof e.quotes&&"function"!=typeof e.quotes&&!Array.isArray(e.quotes)||(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(u=e.skipEmptyLines),"string"==typeof e.newline&&(s=e.newline),"string"==typeof e.quoteChar&&(o=e.quoteChar),"boolean"==typeof e.header&&(r=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");h=e.columns}void 0!==e.escapeChar&&(l=e.escapeChar+o),e.escapeFormulae instanceof RegExp?c=e.escapeFormulae:"boolean"==typeof e.escapeFormulae&&e.escapeFormulae&&(c=/^[=+\-@\t\r].*$/)}})(),new RegExp(p(o),"g"));if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return d(null,t,u);if("object"==typeof t[0])return d(h||Object.keys(t[0]),t,u)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||h),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:"object"==typeof t.data[0]?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),d(t.fields||[],t.data||[],u);throw new Error("Unable to serialize unrecognized input");function d(t,e,n){var o="",a=("string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e)),Array.isArray(t)&&0<t.length),l=!Array.isArray(e[0]);if(a&&r){for(var u=0;u<t.length;u++)0<u&&(o+=i),o+=m(t[u],u);0<e.length&&(o+=s)}for(var h=0;h<e.length;h++){var c=(a?t:e[h]).length,f=!1,d=a?0===Object.keys(e[h]).length:0===e[h].length;if(n&&!a&&(f="greedy"===n?""===e[h].join("").trim():1===e[h].length&&0===e[h][0].length),"greedy"===n&&a){for(var p=[],g=0;g<c;g++){var b=l?t[g]:g;p.push(e[h][b])}f=""===p.join("").trim()}if(!f){for(var y=0;y<c;y++){0<y&&!d&&(o+=i);var v=a&&l?t[y]:y;o+=m(e[h][v],y)}h<e.length-1&&(!n||0<c&&!d)&&(o+=s)}}return o}function m(t,e){var r,s;return null==t?"":t.constructor===Date?JSON.stringify(t).slice(1,25):(s=!1,c&&"string"==typeof t&&c.test(t)&&(t="'"+t,s=!0),r=t.toString().replace(f,l),(s=s||!0===n||"function"==typeof n&&n(t,e)||Array.isArray(n)&&n[e]||((t,e)=>{for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1})(r,a.BAD_DELIMITERS)||-1<r.indexOf(i)||" "===r.charAt(0)||" "===r.charAt(r.length-1))?o+r+o:r)}},a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!r&&!!n.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=m,a.ParserHandle=d,a.NetworkStreamer=u,a.FileStreamer=h,a.StringStreamer=c,a.ReadableStreamStreamer=f,n.jQuery&&((e=n.jQuery).fn.parse=function(t){var r=t.config||{},i=[];return this.each(function(t){if("INPUT"!==e(this).prop("tagName").toUpperCase()||"file"!==e(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var s=0;s<this.files.length;s++)i.push({file:this.files[s],inputElem:this,instanceConfig:e.extend({},r)})}),s(),this;function s(){if(0===i.length)x(t.complete)&&t.complete();else{var n,r,s,l=i[0];if(x(t.before)){var u=t.before(l.file,l.inputElem);if("object"==typeof u){if("abort"===u.action)return n=l.file,r=l.inputElem,s=u.reason,void(x(t.error)&&t.error({name:"AbortError"},n,r,s));if("skip"===u.action)return void o();"object"==typeof u.config&&(l.instanceConfig=e.extend(l.instanceConfig,u.config))}else if("skip"===u)return void o()}var h=l.instanceConfig.complete;l.instanceConfig.complete=function(t){x(h)&&h(t,l.file,l.inputElem),o()},a.parse(l.file,l.instanceConfig)}}function o(){i.splice(0,1),s()}}),i&&(n.onmessage=function(t){t=t.data,void 0===a.WORKER_ID&&t&&(a.WORKER_ID=t.workerId),"string"==typeof t.input?n.postMessage({workerId:a.WORKER_ID,results:a.parse(t.input,t.config),finished:!0}):(n.File&&t.input instanceof File||t.input instanceof Object)&&(t=a.parse(t.input,t.config))&&n.postMessage({workerId:a.WORKER_ID,results:t,finished:!0})}),(u.prototype=Object.create(l.prototype)).constructor=u,(h.prototype=Object.create(l.prototype)).constructor=h,(c.prototype=Object.create(c.prototype)).constructor=c,(f.prototype=Object.create(l.prototype)).constructor=f,a},void 0===(r=n.apply(e,[]))||(t.exports=r)},4840:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},4894:(t,e,n)=>{var r=n(1882),i=n(294);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},4901:(t,e,n)=>{var r=n(2552),i=n(294),s=n(346),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(t){return s(t)&&i(t.length)&&!!o[r(t)]}},4974:t=>{t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},5083:(t,e,n)=>{var r=n(1882),i=n(7296),s=n(3805),o=n(7473),a=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,h=l.toString,c=u.hasOwnProperty,f=RegExp("^"+h.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!s(t)||i(t))&&(r(t)?f:a).test(o(t))}},5250:(t,e,n)=>{var r=n(7217),i=n(7805),s=n(6649),o=n(2824),a=n(3805),l=n(7241),u=n(4974);t.exports=function t(e,n,h,c,f){e!==n&&s(n,function(s,l){if(f||(f=new r),a(s))o(e,n,l,h,t,c,f);else{var d=c?c(u(e,l),s,l+"",e,n,f):void 0;void 0===d&&(d=s),i(e,l,d)}},l)}},5288:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},5364:(t,e,n)=>{var r=n(5250),i=n(999)(function(t,e,n){r(t,e,n)});t.exports=i},5481:(t,e,n)=>{var r=n(9325)["__core-js_shared__"];t.exports=r},5527:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},5529:(t,e,n)=>{var r=n(9344),i=n(8879),s=n(5527);t.exports=function(t){return"function"!=typeof t.constructor||s(t)?{}:r(i(t))}},5580:(t,e,n)=>{var r=n(6110)(n(9325),"DataView");t.exports=r},5749:(t,e,n)=>{var r=n(1042);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},5861:(t,e,n)=>{var r=n(5580),i=n(8223),s=n(2804),o=n(6545),a=n(8303),l=n(2552),u=n(7473),h="[object Map]",c="[object Promise]",f="[object Set]",d="[object WeakMap]",p="[object DataView]",m=u(r),g=u(i),b=u(s),y=u(o),v=u(a),w=l;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=h||s&&w(s.resolve())!=c||o&&w(new o)!=f||a&&w(new a)!=d)&&(w=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return p;case g:return h;case b:return c;case y:return f;case v:return d}return e}),t.exports=w},5911:(t,e,n)=>{var r=n(8859),i=n(4248),s=n(9219);t.exports=function(t,e,n,o,a,l){var u=1&n,h=t.length,c=e.length;if(h!=c&&!(u&&c>h))return!1;var f=l.get(t),d=l.get(e);if(f&&d)return f==e&&d==t;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(t,e),l.set(e,t);++p<h;){var b=t[p],y=e[p];if(o)var v=u?o(y,b,p,e,t,l):o(b,y,p,t,e,l);if(void 0!==v){if(v)continue;m=!1;break}if(g){if(!i(e,function(t,e){if(!s(g,e)&&(b===t||a(b,t,n,o,l)))return g.push(e)})){m=!1;break}}else if(b!==y&&!a(b,y,n,o,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},5950:(t,e,n)=>{var r=n(695),i=n(8984),s=n(4894);t.exports=function(t){return s(t)?r(t):i(t)}},6009:(t,e,n)=>{t=n.nmd(t);var r=n(4840),i=e&&!e.nodeType&&e,s=i&&t&&!t.nodeType&&t,o=s&&s.exports===i&&r.process,a=function(){try{return s&&s.require&&s.require("util").types||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=a},6025:(t,e,n)=>{var r=n(5288);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},6038:(t,e,n)=>{var r=n(5861),i=n(346);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},6110:(t,e,n)=>{var r=n(5083),i=n(392);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},6169:(t,e,n)=>{var r=n(9653);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},6189:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},6375:(t,e,n)=>{var r=n(4528),i=n(8879),s=n(4664),o=n(3345),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,s(t)),t=i(t);return e}:o;t.exports=a},6449:t=>{var e=Array.isArray;t.exports=e},6545:(t,e,n)=>{var r=n(6110)(n(9325),"Set");t.exports=r},6547:(t,e,n)=>{var r=n(3360),i=n(5288),s=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var o=t[e];s.call(t,e)&&i(o,n)&&(void 0!==n||e in t)||r(t,e,n)}},6649:(t,e,n)=>{var r=n(3221)();t.exports=r},6721:(t,e,n)=>{var r=n(1042),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},6757:(t,e,n)=>{var r=n(1033),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var s=arguments,o=-1,a=i(s.length-e,0),l=Array(a);++o<a;)l[o]=s[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=s[o];return u[e]=n(l),r(t,this,u)}}},6800:(t,e,n)=>{var r=n(5288),i=n(4894),s=n(361),o=n(3805);t.exports=function(t,e,n){if(!o(n))return!1;var a=typeof e;return!!("number"==a?i(n)&&s(e,n.length):"string"==a&&e in n)&&r(n[e],t)}},7068:(t,e,n)=>{var r=n(7217),i=n(5911),s=n(1986),o=n(689),a=n(5861),l=n(6449),u=n(3656),h=n(7167),c="[object Arguments]",f="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,m,g,b){var y=l(t),v=l(e),w=y?f:a(t),x=v?f:a(e),_=(w=w==c?d:w)==d,k=(x=x==c?d:x)==d,M=w==x;if(M&&u(t)){if(!u(e))return!1;y=!0,_=!1}if(M&&!_)return b||(b=new r),y||h(t)?i(t,e,n,m,g,b):s(t,e,w,n,m,g,b);if(!(1&n)){var O=_&&p.call(t,"__wrapped__"),A=k&&p.call(e,"__wrapped__");if(O||A){var j=O?t.value():t,S=A?e.value():e;return b||(b=new r),g(j,S,n,m,b)}}return!!M&&(b||(b=new r),o(t,e,n,m,g,b))}},7167:(t,e,n)=>{var r=n(4901),i=n(7301),s=n(6009),o=s&&s.isTypedArray,a=o?i(o):r;t.exports=a},7199:(t,e,n)=>{var r=n(9653),i=n(6169),s=n(3201),o=n(3736),a=n(1961);t.exports=function(t,e,n){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return s(t);case"[object Symbol]":return o(t)}}},7217:(t,e,n)=>{var r=n(79),i=n(1420),s=n(938),o=n(3605),a=n(9817),l=n(945);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=s,u.prototype.get=o,u.prototype.has=a,u.prototype.set=l,t.exports=u},7241:(t,e,n)=>{var r=n(695),i=n(2903),s=n(4894);t.exports=function(t){return s(t)?r(t,!0):i(t)}},7296:(t,e,n)=>{var r,i=n(5481),s=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!s&&s in t}},7301:t=>{t.exports=function(t){return function(e){return t(e)}}},7334:t=>{t.exports=function(t){return function(){return t}}},7473:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7534:(t,e,n)=>{var r=n(2552),i=n(346);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},7581:function(t){t.exports=function(){"use strict";return function(t,e,n){e.prototype.isToday=function(){var t="YYYY-MM-DD",e=n();return this.format(t)===e.format(t)}}}()},7670:(t,e,n)=>{var r=n(2651);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},7730:(t,e,n)=>{var r=n(9172),i=n(7301),s=n(6009),o=s&&s.isMap,a=o?i(o):r;t.exports=a},7805:(t,e,n)=>{var r=n(3360),i=n(5288);t.exports=function(t,e,n){(void 0!==n&&!i(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},7828:(t,e,n)=>{var r=n(9325).Uint8Array;t.exports=r},8055:(t,e,n)=>{var r=n(9999);t.exports=function(t){return r(t,5)}},8096:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},8223:(t,e,n)=>{var r=n(6110)(n(9325),"Map");t.exports=r},8303:(t,e,n)=>{var r=n(6110)(n(9325),"WeakMap");t.exports=r},8313:function(t){t.exports=function(){"use strict";var t="day";return function(e,n,r){var i=function(e){return e.add(4-e.isoWeekday(),t)},s=n.prototype;s.isoWeekYear=function(){return i(this).year()},s.isoWeek=function(e){if(!this.$utils().u(e))return this.add(7*(e-this.isoWeek()),t);var n,s,o,a=i(this),l=(n=this.isoWeekYear(),o=4-(s=(this.$u?r.utc:r)().year(n).startOf("year")).isoWeekday(),s.isoWeekday()>4&&(o+=7),s.add(o,t));return a.diff(l,"week")+1},s.isoWeekday=function(t){return this.$utils().u(t)?this.day()||7:this.day(this.day()%7?t:t-7)};var o=s.startOf;s.startOf=function(t,e){var n=this.$utils(),r=!!n.u(e)||e;return"isoweek"===n.p(t)?r?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):o.bind(this)(t,e)}}}()},8440:(t,e,n)=>{var r=n(6038),i=n(7301),s=n(6009),o=s&&s.isSet,a=o?i(o):r;t.exports=a},8655:(t,e,n)=>{var r=n(6025);t.exports=function(t){return r(this.__data__,t)>-1}},8859:(t,e,n)=>{var r=n(3661),i=n(1380),s=n(1459);function o(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}o.prototype.add=o.prototype.push=i,o.prototype.has=s,t.exports=o},8879:(t,e,n)=>{var r=n(4335)(Object.getPrototypeOf,Object);t.exports=r},8948:(t,e,n)=>{var r=n(1791),i=n(6375);t.exports=function(t,e){return r(t,i(t),e)}},8984:(t,e,n)=>{var r=n(5527),i=n(3650),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}},9172:(t,e,n)=>{var r=n(5861),i=n(346);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},9219:t=>{t.exports=function(t,e){return t.has(e)}},9302:(t,e,n)=>{var r=n(3488),i=n(6757),s=n(2865);t.exports=function(t,e){return s(i(t,e,r),t+"")}},9325:(t,e,n)=>{var r=n(4840),i="object"==typeof self&&self&&self.Object===Object&&self,s=r||i||Function("return this")();t.exports=s},9344:(t,e,n)=>{var r=n(3805),i=Object.create,s=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=s},9350:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},9570:(t,e,n)=>{var r=n(7334),i=n(3243),s=n(3488),o=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:s;t.exports=o},9653:(t,e,n)=>{var r=n(7828);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},9770:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}},9817:t=>{t.exports=function(t){return this.__data__.has(t)}},9884:(t,e,n)=>{var r=n(1791),i=n(7241);t.exports=function(t){return r(t,i(t))}},9935:t=>{t.exports=function(){return!1}},9999:(t,e,n)=>{var r=n(7217),i=n(3729),s=n(6547),o=n(4733),a=n(3838),l=n(3290),u=n(3007),h=n(2271),c=n(8948),f=n(2),d=n(3349),p=n(5861),m=n(6189),g=n(7199),b=n(5529),y=n(6449),v=n(3656),w=n(7730),x=n(3805),_=n(8440),k=n(5950),M=n(7241),O="[object Arguments]",A="[object Function]",j="[object Object]",S={};S[O]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object DataView]"]=S["[object Boolean]"]=S["[object Date]"]=S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Map]"]=S["[object Number]"]=S[j]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object Symbol]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Error]"]=S[A]=S["[object WeakMap]"]=!1,t.exports=function t(e,n,C,E,T,N){var D,L=1&n,R=2&n,I=4&n;if(C&&(D=T?C(e,E,T,N):C(e)),void 0!==D)return D;if(!x(e))return e;var z=y(e);if(z){if(D=m(e),!L)return u(e,D)}else{var F=p(e),$=F==A||"[object GeneratorFunction]"==F;if(v(e))return l(e,L);if(F==j||F==O||$&&!T){if(D=R||$?{}:b(e),!L)return R?c(e,a(D,e)):h(e,o(D,e))}else{if(!S[F])return T?e:{};D=g(e,F,L)}}N||(N=new r);var P=N.get(e);if(P)return P;N.set(e,D),_(e)?e.forEach(function(r){D.add(t(r,n,C,r,e,N))}):w(e)&&e.forEach(function(r,i){D.set(i,t(r,n,C,i,e,N))});var Y=z?void 0:(I?R?d:f:R?M:k)(e);return i(Y||e,function(r,i){Y&&(r=e[i=r]),s(D,i,t(r,n,C,i,e,N))}),D}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r={};return(()=>{"use strict";n.d(r,{default:()=>Io});var t={};n.r(t),n.d(t,{cx:()=>wi,cy:()=>xi,height:()=>ki,rx:()=>gi,ry:()=>bi,width:()=>_i,x:()=>yi,y:()=>vi});var e={};n.r(e),n.d(e,{from:()=>ji,to:()=>Si});var i={};n.r(i),n.d(i,{MorphArray:()=>Li,height:()=>Fi,width:()=>zi,x:()=>Ri,y:()=>Ii});var s={};n.r(s),n.d(s,{array:()=>fs,clear:()=>ds,move:()=>ps,plot:()=>ms,size:()=>gs});var o={};n.r(o),n.d(o,{amove:()=>qs,ax:()=>Us,ay:()=>Ws,build:()=>Bs,center:()=>Ys,cx:()=>$s,cy:()=>Ps,length:()=>Rs,move:()=>Fs,plain:()=>Ls,x:()=>Is,y:()=>zs});var a={};n.r(a),n.d(a,{dmove:()=>Vs,dx:()=>Js,dy:()=>Qs,height:()=>to,move:()=>eo,size:()=>no,width:()=>ro,x:()=>io,y:()=>so});var l=n(8055),u=n.n(l),h=n(2404),c=n.n(h),f=n(1331),d=n.n(f),p=n(5364),m=n.n(p),g=n(4809),b=n.n(g);const y=[{name:"System",value:"system-ui, -apple-system, Segoe UI, Roboto, Helvetica Neue, Noto Sans, Liberation Sans, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji"},{name:"Arial",value:"Arial"},{name:"Times New Roman",value:"Times New Roman"},{name:"Calibri",value:"Calibri"},{name:"Courier New",value:"Courier New"},{name:"Verdana",value:"Verdana"}],v=function(){let{size:t=18,fontFamily:e=y[0].value,fontWeight:n="normal",textAlignment:r="left",fontColor:i="#212529"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{type:"select",name:"fontFamily",value:e,options:y,label:"Font",className:"col-6"},{type:"select",name:"fontSize",value:t,options:[8,9,10,11,12,14,18,24,30,36,48,60,72,96],label:"Size",className:"col-6"},{type:"select",name:"fontWeight",value:n,options:[{name:"light",value:"lighter"},"normal","bold"],label:"Style",className:"col-6"},{type:"select",name:"textAlignment",value:r,options:[{name:"left",value:"start"},{name:"center",value:"middle"},{name:"right",value:"end"}],label:"Align",className:"col-6"},{type:"color",name:"fontColor",value:i,label:"Color"}]},w=function(t){let{titleText:e="Main Title",fontFamily:n=y[0].value,fontSize:r=36,fontWeight:i="normal",fontColor:s="#212529",textAlignment:o="start",x:a=0,y:l=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e.replace(" "," ");var u=t.plain(e);return"middle"==o&&(a=t.width()/2),"end"==o&&(a=t.width()-a),u.font({family:n,size:r,weight:i,anchor:o,fill:s}),u.move(a,l),u.addClass("title"),u},x=function(t){let{titleText:e="Sub Title",fontFamily:n=y[0].value,fontSize:r=24,fontWeight:i="normal",fontColor:s="#212529",textAlignment:o="start",x:a=0,y:l=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e.replace(" "," ");var u=t.text(e);return"middle"==o&&(a=t.width()/2),"end"==o&&(a=t.width()-a),u.font({family:n,size:r,weight:i,anchor:o,fill:s,opacity:.75}),u.move(a,l),u.addClass("sub-title"),u},{min:_,max:k}=Math,M=(t,e=0,n=1)=>_(k(e,t),n),O=t=>{t._clipped=!1,t._unclipped=t.slice(0);for(let e=0;e<=3;e++)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]=M(t[e],0,255)):3===e&&(t[e]=M(t[e],0,1));return t},A={};for(let t of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])A[`[object ${t}]`]=t.toLowerCase();function j(t){return A[Object.prototype.toString.call(t)]||"object"}const S=(t,e=null)=>t.length>=3?Array.prototype.slice.call(t):"object"==j(t[0])&&e?e.split("").filter(e=>void 0!==t[0][e]).map(e=>t[0][e]):t[0].slice(0),C=t=>{if(t.length<2)return null;const e=t.length-1;return"string"==j(t[e])?t[e].toLowerCase():null},{PI:E,min:T,max:N}=Math,D=t=>Math.round(100*t)/100,L=t=>Math.round(100*t)/100,R=2*E,I=E/3,z=E/180,F=180/E;function $(t){return[...t.slice(0,3).reverse(),...t.slice(3)]}const P={format:{},autodetect:[]},Y=class{constructor(...t){const e=this;if("object"===j(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];let n=C(t),r=!1;if(!n){r=!0,P.sorted||(P.autodetect=P.autodetect.sort((t,e)=>e.p-t.p),P.sorted=!0);for(let e of P.autodetect)if(n=e.test(...t),n)break}if(!P.format[n])throw new Error("unknown format: "+t);{const i=P.format[n].apply(null,r?t:t.slice(0,-1));e._rgb=O(i)}3===e._rgb.length&&e._rgb.push(1)}toString(){return"function"==j(this.hex)?this.hex():`[${this._rgb.join(",")}]`}},U=(...t)=>new Y(...t);U.version="3.1.2";const W=U,q={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},B=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,G=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,H=t=>{if(t.match(B)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);const e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(G)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=parseInt(t,16);return[e>>24&255,e>>16&255,e>>8&255,Math.round((255&e)/255*100)/100]}throw new Error(`unknown hex color: ${t}`)},{round:Z}=Math,K=(...t)=>{let[e,n,r,i]=S(t,"rgba"),s=C(t)||"auto";void 0===i&&(i=1),"auto"===s&&(s=i<1?"rgba":"rgb"),e=Z(e),n=Z(n),r=Z(r);let o="000000"+(e<<16|n<<8|r).toString(16);o=o.substr(o.length-6);let a="0"+Z(255*i).toString(16);switch(a=a.substr(a.length-2),s.toLowerCase()){case"rgba":return`#${o}${a}`;case"argb":return`#${a}${o}`;default:return`#${o}`}};Y.prototype.name=function(){const t=K(this._rgb,"rgb");for(let e of Object.keys(q))if(q[e]===t)return e.toLowerCase();return t},P.format.named=t=>{if(t=t.toLowerCase(),q[t])return H(q[t]);throw new Error("unknown color name: "+t)},P.autodetect.push({p:5,test:(t,...e)=>{if(!e.length&&"string"===j(t)&&q[t.toLowerCase()])return"named"}}),Y.prototype.alpha=function(t,e=!1){return void 0!==t&&"number"===j(t)?e?(this._rgb[3]=t,this):new Y([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},Y.prototype.clipped=function(){return this._rgb._clipped||!1};const X={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},V=X,J=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Q(t){const e=J.get(String(t).toLowerCase());if(!e)throw new Error("unknown Lab illuminant "+t);X.labWhitePoint=t,X.Xn=e[0],X.Zn=e[1]}function tt(){return X.labWhitePoint}const et=t=>{const e=Math.sign(t);return((t=Math.abs(t))<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)*e},nt=(t,e,n)=>{const{MtxAdaptMa:r,MtxAdaptMaI:i,MtxXYZ2RGB:s,RefWhiteRGB:o,Xn:a,Yn:l,Zn:u}=V,h=a*r.m00+l*r.m10+u*r.m20,c=a*r.m01+l*r.m11+u*r.m21,f=a*r.m02+l*r.m12+u*r.m22,d=o.X*r.m00+o.Y*r.m10+o.Z*r.m20,p=o.X*r.m01+o.Y*r.m11+o.Z*r.m21,m=o.X*r.m02+o.Y*r.m12+o.Z*r.m22,g=(t*r.m00+e*r.m10+n*r.m20)*(d/h),b=(t*r.m01+e*r.m11+n*r.m21)*(p/c),y=(t*r.m02+e*r.m12+n*r.m22)*(m/f),v=g*i.m00+b*i.m10+y*i.m20,w=g*i.m01+b*i.m11+y*i.m21,x=g*i.m02+b*i.m12+y*i.m22;return[255*et(v*s.m00+w*s.m10+x*s.m20),255*et(v*s.m01+w*s.m11+x*s.m21),255*et(v*s.m02+w*s.m12+x*s.m22)]},rt=(...t)=>{t=S(t,"lab");const[e,n,r]=t,[i,s,o]=((t,e,n)=>{const{kE:r,kK:i,kKE:s,Xn:o,Yn:a,Zn:l}=V,u=(t+16)/116,h=.002*e+u,c=u-.005*n,f=h*h*h,d=c*c*c;return[(f>r?f:(116*h-16)/i)*o,(t>s?Math.pow((t+16)/116,3):t/i)*a,(d>r?d:(116*c-16)/i)*l]})(e,n,r),[a,l,u]=nt(i,s,o);return[a,l,u,t.length>3?t[3]:1]};function it(t){const e=Math.sign(t);return((t=Math.abs(t))<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4))*e}const st=(t,e,n)=>{t=it(t/255),e=it(e/255),n=it(n/255);const{MtxRGB2XYZ:r,MtxAdaptMa:i,MtxAdaptMaI:s,Xn:o,Yn:a,Zn:l,As:u,Bs:h,Cs:c}=V;let f=t*r.m00+e*r.m10+n*r.m20,d=t*r.m01+e*r.m11+n*r.m21,p=t*r.m02+e*r.m12+n*r.m22;const m=o*i.m00+a*i.m10+l*i.m20,g=o*i.m01+a*i.m11+l*i.m21,b=o*i.m02+a*i.m12+l*i.m22;let y=f*i.m00+d*i.m10+p*i.m20,v=f*i.m01+d*i.m11+p*i.m21,w=f*i.m02+d*i.m12+p*i.m22;return y*=m/u,v*=g/h,w*=b/c,f=y*s.m00+v*s.m10+w*s.m20,d=y*s.m01+v*s.m11+w*s.m21,p=y*s.m02+v*s.m12+w*s.m22,[f,d,p]},ot=(...t)=>{const[e,n,r,...i]=S(t,"rgb"),[s,o,a]=st(e,n,r),[l,u,h]=function(t,e,n){const{Xn:r,Yn:i,Zn:s,kE:o,kK:a}=V,l=t/r,u=e/i,h=n/s,c=l>o?Math.pow(l,1/3):(a*l+16)/116,f=u>o?Math.pow(u,1/3):(a*u+16)/116;return[116*f-16,500*(c-f),200*(f-(h>o?Math.pow(h,1/3):(a*h+16)/116))]}(s,o,a);return[l,u,h,...i.length>0&&i[0]<1?[i[0]]:[]]};Y.prototype.lab=function(){return ot(this._rgb)},Object.assign(W,{lab:(...t)=>new Y(...t,"lab"),getLabWhitePoint:tt,setLabWhitePoint:Q}),P.format.lab=rt,P.autodetect.push({p:2,test:(...t)=>{if("array"===j(t=S(t,"lab"))&&3===t.length)return"lab"}}),Y.prototype.darken=function(t=1){const e=this.lab();return e[0]-=V.Kn*t,new Y(e,"lab").alpha(this.alpha(),!0)},Y.prototype.brighten=function(t=1){return this.darken(-t)},Y.prototype.darker=Y.prototype.darken,Y.prototype.brighter=Y.prototype.brighten,Y.prototype.get=function(t){const[e,n]=t.split("."),r=this[e]();if(n){const t=e.indexOf(n)-("ok"===e.substr(0,2)?2:0);if(t>-1)return r[t];throw new Error(`unknown channel ${n} in mode ${e}`)}return r};const{pow:at}=Math;Y.prototype.luminance=function(t,e="rgb"){if(void 0!==t&&"number"===j(t)){if(0===t)return new Y([0,0,0,this._rgb[3]],"rgb");if(1===t)return new Y([255,255,255,this._rgb[3]],"rgb");let n=this.luminance(),r=20;const i=(n,s)=>{const o=n.interpolate(s,.5,e),a=o.luminance();return Math.abs(t-a)<1e-7||!r--?o:a>t?i(n,o):i(o,s)},s=(n>t?i(new Y([0,0,0]),this):i(this,new Y([255,255,255]))).rgb();return new Y([...s,this._rgb[3]])}return lt(...this._rgb.slice(0,3))};const lt=(t,e,n)=>.2126*(t=ut(t))+.7152*(e=ut(e))+.0722*ut(n),ut=t=>(t/=255)<=.03928?t/12.92:at((t+.055)/1.055,2.4),ht={},ct=(t,e,n=.5,...r)=>{let i=r[0]||"lrgb";if(ht[i]||r.length||(i=Object.keys(ht)[0]),!ht[i])throw new Error(`interpolation mode ${i} is not defined`);return"object"!==j(t)&&(t=new Y(t)),"object"!==j(e)&&(e=new Y(e)),ht[i](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))};Y.prototype.mix=Y.prototype.interpolate=function(t,e=.5,...n){return ct(this,t,e,...n)},Y.prototype.premultiply=function(t=!1){const e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new Y([e[0]*n,e[1]*n,e[2]*n,n],"rgb")};const{sin:ft,cos:dt}=Math,pt=(...t)=>{let[e,n,r]=S(t,"lch");return isNaN(r)&&(r=0),r*=z,[e,dt(r)*n,ft(r)*n]},mt=(...t)=>{t=S(t,"lch");const[e,n,r]=t,[i,s,o]=pt(e,n,r),[a,l,u]=rt(i,s,o);return[a,l,u,t.length>3?t[3]:1]},{sqrt:gt,atan2:bt,round:yt}=Math,vt=(...t)=>{const[e,n,r]=S(t,"lab"),i=gt(n*n+r*r);let s=(bt(r,n)*F+360)%360;return 0===yt(1e4*i)&&(s=Number.NaN),[e,i,s]},wt=(...t)=>{const[e,n,r,...i]=S(t,"rgb"),[s,o,a]=ot(e,n,r),[l,u,h]=vt(s,o,a);return[l,u,h,...i.length>0&&i[0]<1?[i[0]]:[]]};Y.prototype.lch=function(){return wt(this._rgb)},Y.prototype.hcl=function(){return $(wt(this._rgb))},Object.assign(W,{lch:(...t)=>new Y(...t,"lch"),hcl:(...t)=>new Y(...t,"hcl")}),P.format.lch=mt,P.format.hcl=(...t)=>{const e=$(S(t,"hcl"));return mt(...e)},["lch","hcl"].forEach(t=>P.autodetect.push({p:2,test:(...e)=>{if("array"===j(e=S(e,t))&&3===e.length)return t}})),Y.prototype.saturate=function(t=1){const e=this.lch();return e[1]+=V.Kn*t,e[1]<0&&(e[1]=0),new Y(e,"lch").alpha(this.alpha(),!0)},Y.prototype.desaturate=function(t=1){return this.saturate(-t)},Y.prototype.set=function(t,e,n=!1){const[r,i]=t.split("."),s=this[r]();if(i){const t=r.indexOf(i)-("ok"===r.substr(0,2)?2:0);if(t>-1){if("string"==j(e))switch(e.charAt(0)){case"+":case"-":s[t]+=+e;break;case"*":s[t]*=+e.substr(1);break;case"/":s[t]/=+e.substr(1);break;default:s[t]=+e}else{if("number"!==j(e))throw new Error("unsupported value for Color.set");s[t]=e}const i=new Y(s,r);return n?(this._rgb=i._rgb,this):i}throw new Error(`unknown channel ${i} in mode ${r}`)}return s},Y.prototype.tint=function(t=.5,...e){return ct(this,"white",t,...e)},Y.prototype.shade=function(t=.5,...e){return ct(this,"black",t,...e)};ht.rgb=(t,e,n)=>{const r=t._rgb,i=e._rgb;return new Y(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};const{sqrt:xt,pow:_t}=Math;ht.lrgb=(t,e,n)=>{const[r,i,s]=t._rgb,[o,a,l]=e._rgb;return new Y(xt(_t(r,2)*(1-n)+_t(o,2)*n),xt(_t(i,2)*(1-n)+_t(a,2)*n),xt(_t(s,2)*(1-n)+_t(l,2)*n),"rgb")};ht.lab=(t,e,n)=>{const r=t.lab(),i=e.lab();return new Y(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};const kt=(t,e,n,r)=>{let i,s,o,a,l,u,h,c,f,d,p,m;return"hsl"===r?(i=t.hsl(),s=e.hsl()):"hsv"===r?(i=t.hsv(),s=e.hsv()):"hcg"===r?(i=t.hcg(),s=e.hcg()):"hsi"===r?(i=t.hsi(),s=e.hsi()):"lch"===r||"hcl"===r?(r="hcl",i=t.hcl(),s=e.hcl()):"oklch"===r&&(i=t.oklch().reverse(),s=e.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||([o,l,h]=i,[a,u,c]=s),isNaN(o)||isNaN(a)?isNaN(o)?isNaN(a)?d=Number.NaN:(d=a,1!=h&&0!=h||"hsv"==r||(f=u)):(d=o,1!=c&&0!=c||"hsv"==r||(f=l)):(m=a>o&&a-o>180?a-(o+360):a<o&&o-a>180?a+360-o:a-o,d=o+n*m),void 0===f&&(f=l+n*(u-l)),p=h+n*(c-h),new Y("oklch"===r?[p,f,d]:[d,f,p],r)},Mt=(t,e,n)=>kt(t,e,n,"lch");ht.lch=Mt,ht.hcl=Mt;Y.prototype.num=function(){return((...t)=>{const[e,n,r]=S(t,"rgb");return(e<<16)+(n<<8)+r})(this._rgb)},Object.assign(W,{num:(...t)=>new Y(...t,"num")}),P.format.num=t=>{if("number"==j(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},P.autodetect.push({p:5,test:(...t)=>{if(1===t.length&&"number"===j(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});ht.num=(t,e,n)=>{const r=t.num(),i=e.num();return new Y(r+n*(i-r),"num")};const{floor:Ot}=Math;Y.prototype.hcg=function(){return((...t)=>{const[e,n,r]=S(t,"rgb"),i=T(e,n,r),s=N(e,n,r),o=s-i,a=100*o/255,l=i/(255-o)*100;let u;return 0===o?u=Number.NaN:(e===s&&(u=(n-r)/o),n===s&&(u=2+(r-e)/o),r===s&&(u=4+(e-n)/o),u*=60,u<0&&(u+=360)),[u,a,l]})(this._rgb)},W.hcg=(...t)=>new Y(...t,"hcg"),P.format.hcg=(...t)=>{t=S(t,"hcg");let e,n,r,[i,s,o]=t;o*=255;const a=255*s;if(0===s)e=n=r=o;else{360===i&&(i=0),i>360&&(i-=360),i<0&&(i+=360),i/=60;const t=Ot(i),l=i-t,u=o*(1-s),h=u+a*(1-l),c=u+a*l,f=u+a;switch(t){case 0:[e,n,r]=[f,c,u];break;case 1:[e,n,r]=[h,f,u];break;case 2:[e,n,r]=[u,f,c];break;case 3:[e,n,r]=[u,h,f];break;case 4:[e,n,r]=[c,u,f];break;case 5:[e,n,r]=[f,u,h]}}return[e,n,r,t.length>3?t[3]:1]},P.autodetect.push({p:1,test:(...t)=>{if("array"===j(t=S(t,"hcg"))&&3===t.length)return"hcg"}});ht.hcg=(t,e,n)=>kt(t,e,n,"hcg");const{cos:At}=Math,{min:jt,sqrt:St,acos:Ct}=Math;Y.prototype.hsi=function(){return((...t)=>{let e,[n,r,i]=S(t,"rgb");n/=255,r/=255,i/=255;const s=jt(n,r,i),o=(n+r+i)/3,a=o>0?1-s/o:0;return 0===a?e=NaN:(e=(n-r+(n-i))/2,e/=St((n-r)*(n-r)+(n-i)*(r-i)),e=Ct(e),i>r&&(e=R-e),e/=R),[360*e,a,o]})(this._rgb)},W.hsi=(...t)=>new Y(...t,"hsi"),P.format.hsi=(...t)=>{t=S(t,"hsi");let e,n,r,[i,s,o]=t;return isNaN(i)&&(i=0),isNaN(s)&&(s=0),i>360&&(i-=360),i<0&&(i+=360),i/=360,i<1/3?(r=(1-s)/3,e=(1+s*At(R*i)/At(I-R*i))/3,n=1-(r+e)):i<2/3?(i-=1/3,e=(1-s)/3,n=(1+s*At(R*i)/At(I-R*i))/3,r=1-(e+n)):(i-=2/3,n=(1-s)/3,r=(1+s*At(R*i)/At(I-R*i))/3,e=1-(n+r)),e=M(o*e*3),n=M(o*n*3),r=M(o*r*3),[255*e,255*n,255*r,t.length>3?t[3]:1]},P.autodetect.push({p:2,test:(...t)=>{if("array"===j(t=S(t,"hsi"))&&3===t.length)return"hsi"}});ht.hsi=(t,e,n)=>kt(t,e,n,"hsi");const Et=(...t)=>{t=S(t,"hsl");const[e,n,r]=t;let i,s,o;if(0===n)i=s=o=255*r;else{const t=[0,0,0],a=[0,0,0],l=r<.5?r*(1+n):r+n-r*n,u=2*r-l,h=e/360;t[0]=h+1/3,t[1]=h,t[2]=h-1/3;for(let e=0;e<3;e++)t[e]<0&&(t[e]+=1),t[e]>1&&(t[e]-=1),6*t[e]<1?a[e]=u+6*(l-u)*t[e]:2*t[e]<1?a[e]=l:3*t[e]<2?a[e]=u+(l-u)*(2/3-t[e])*6:a[e]=u;[i,s,o]=[255*a[0],255*a[1],255*a[2]]}return t.length>3?[i,s,o,t[3]]:[i,s,o,1]},Tt=(...t)=>{t=S(t,"rgba");let[e,n,r]=t;e/=255,n/=255,r/=255;const i=T(e,n,r),s=N(e,n,r),o=(s+i)/2;let a,l;return s===i?(a=0,l=Number.NaN):a=o<.5?(s-i)/(s+i):(s-i)/(2-s-i),e==s?l=(n-r)/(s-i):n==s?l=2+(r-e)/(s-i):r==s&&(l=4+(e-n)/(s-i)),l*=60,l<0&&(l+=360),t.length>3&&void 0!==t[3]?[l,a,o,t[3]]:[l,a,o]};Y.prototype.hsl=function(){return Tt(this._rgb)},W.hsl=(...t)=>new Y(...t,"hsl"),P.format.hsl=Et,P.autodetect.push({p:2,test:(...t)=>{if("array"===j(t=S(t,"hsl"))&&3===t.length)return"hsl"}});ht.hsl=(t,e,n)=>kt(t,e,n,"hsl");const{floor:Nt}=Math,{min:Dt,max:Lt}=Math;Y.prototype.hsv=function(){return((...t)=>{t=S(t,"rgb");let[e,n,r]=t;const i=Dt(e,n,r),s=Lt(e,n,r),o=s-i;let a,l,u;return u=s/255,0===s?(a=Number.NaN,l=0):(l=o/s,e===s&&(a=(n-r)/o),n===s&&(a=2+(r-e)/o),r===s&&(a=4+(e-n)/o),a*=60,a<0&&(a+=360)),[a,l,u]})(this._rgb)},W.hsv=(...t)=>new Y(...t,"hsv"),P.format.hsv=(...t)=>{t=S(t,"hsv");let e,n,r,[i,s,o]=t;if(o*=255,0===s)e=n=r=o;else{360===i&&(i=0),i>360&&(i-=360),i<0&&(i+=360),i/=60;const t=Nt(i),a=i-t,l=o*(1-s),u=o*(1-s*a),h=o*(1-s*(1-a));switch(t){case 0:[e,n,r]=[o,h,l];break;case 1:[e,n,r]=[u,o,l];break;case 2:[e,n,r]=[l,o,h];break;case 3:[e,n,r]=[l,u,o];break;case 4:[e,n,r]=[h,l,o];break;case 5:[e,n,r]=[o,l,u]}}return[e,n,r,t.length>3?t[3]:1]},P.autodetect.push({p:2,test:(...t)=>{if("array"===j(t=S(t,"hsv"))&&3===t.length)return"hsv"}});function Rt(t,e){let n=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map(t=>[t]));let r=e[0].length,i=e[0].map((t,n)=>e.map(t=>t[n])),s=t.map(t=>i.map(e=>Array.isArray(t)?t.reduce((t,n,r)=>t+n*(e[r]||0),0):e.reduce((e,n)=>e+n*t,0)));return 1===n&&(s=s[0]),1===r?s.map(t=>t[0]):s}ht.hsv=(t,e,n)=>kt(t,e,n,"hsv");const It=(...t)=>{t=S(t,"lab");const[e,n,r,...i]=t,[s,o,a]=(l=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],u=Rt([[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],[e,n,r]),Rt(l,u.map(t=>t**3)));var l,u;const[h,c,f]=nt(s,o,a);return[h,c,f,...i.length>0&&i[0]<1?[i[0]]:[]]},zt=(...t)=>{const[e,n,r,...i]=S(t,"rgb");return[...function(t){const e=Rt([[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],t);return Rt([[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],e.map(t=>Math.cbrt(t)))}(st(e,n,r)),...i.length>0&&i[0]<1?[i[0]]:[]]};Y.prototype.oklab=function(){return zt(this._rgb)},Object.assign(W,{oklab:(...t)=>new Y(...t,"oklab")}),P.format.oklab=It,P.autodetect.push({p:2,test:(...t)=>{if("array"===j(t=S(t,"oklab"))&&3===t.length)return"oklab"}});ht.oklab=(t,e,n)=>{const r=t.oklab(),i=e.oklab();return new Y(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"oklab")};ht.oklch=(t,e,n)=>kt(t,e,n,"oklch");const{pow:Ft,sqrt:$t,PI:Pt,cos:Yt,sin:Ut,atan2:Wt}=Math,{pow:qt}=Math;function Bt(t){let e="rgb",n=W("#ccc"),r=0,i=[0,1],s=[],o=[0,0],a=!1,l=[],u=!1,h=0,c=1,f=!1,d={},p=!0,m=1;const g=function(t){if((t=t||["#fff","#000"])&&"string"===j(t)&&W.brewer&&W.brewer[t.toLowerCase()]&&(t=W.brewer[t.toLowerCase()]),"array"===j(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(let e=0;e<t.length;e++)t[e]=W(t[e]);s.length=0;for(let e=0;e<t.length;e++)s.push(e/(t.length-1))}return w(),l=t};let b=t=>t,y=t=>t;const v=function(t,r){let i,u;if(null==r&&(r=!1),isNaN(t)||null===t)return n;u=r?t:a&&a.length>2?function(t){if(null!=a){const e=a.length-1;let n=0;for(;n<e&&t>=a[n];)n++;return n-1}return 0}(t)/(a.length-2):c!==h?(t-h)/(c-h):1,u=y(u),r||(u=b(u)),1!==m&&(u=qt(u,m)),u=o[0]+u*(1-o[0]-o[1]),u=M(u,0,1);const f=Math.floor(1e4*u);if(p&&d[f])i=d[f];else{if("array"===j(l))for(let t=0;t<s.length;t++){const n=s[t];if(u<=n){i=l[t];break}if(u>=n&&t===s.length-1){i=l[t];break}if(u>n&&u<s[t+1]){u=(u-n)/(s[t+1]-n),i=W.interpolate(l[t],l[t+1],u,e);break}}else"function"===j(l)&&(i=l(u));p&&(d[f]=i)}return i};var w=()=>d={};g(t);const x=function(t){const e=W(v(t));return u&&e[u]?e[u]():e};return x.classes=function(t){if(null!=t){if("array"===j(t))a=t,i=[t[0],t[t.length-1]];else{const e=W.analyze(i);a=0===t?[e.min,e.max]:W.limits(e,"e",t)}return x}return a},x.domain=function(t){if(!arguments.length)return i;h=t[0],c=t[t.length-1],s=[];const e=l.length;if(t.length===e&&h!==c)for(let e of Array.from(t))s.push((e-h)/(c-h));else{for(let t=0;t<e;t++)s.push(t/(e-1));if(t.length>2){const e=t.map((e,n)=>n/(t.length-1)),n=t.map(t=>(t-h)/(c-h));n.every((t,n)=>e[n]===t)||(y=t=>{if(t<=0||t>=1)return t;let r=0;for(;t>=n[r+1];)r++;const i=(t-n[r])/(n[r+1]-n[r]);return e[r]+i*(e[r+1]-e[r])})}}return i=[h,c],x},x.mode=function(t){return arguments.length?(e=t,w(),x):e},x.range=function(t,e){return g(t),x},x.out=function(t){return u=t,x},x.spread=function(t){return arguments.length?(r=t,x):r},x.correctLightness=function(t){return null==t&&(t=!0),f=t,w(),b=f?function(t){const e=v(0,!0).lab()[0],n=v(1,!0).lab()[0],r=e>n;let i=v(t,!0).lab()[0];const s=e+(n-e)*t;let o=i-s,a=0,l=1,u=20;for(;Math.abs(o)>.01&&u-- >0;)(function(){r&&(o*=-1),o<0?(a=t,t+=.5*(l-t)):(l=t,t+=.5*(a-t)),i=v(t,!0).lab()[0],o=i-s})();return t}:t=>t,x},x.padding=function(t){return null!=t?("number"===j(t)&&(t=[t,t]),o=t,x):o},x.colors=function(e,n){arguments.length<2&&(n="hex");let r=[];if(0===arguments.length)r=l.slice(0);else if(1===e)r=[x(.5)];else if(e>1){const t=i[0],n=i[1]-t;r=function(t,e){let n=[],r=0<e,i=e;for(let t=0;r?t<i:t>i;r?t++:t--)n.push(t);return n}(0,e).map(r=>x(t+r/(e-1)*n))}else{t=[];let e=[];if(a&&a.length>2)for(let t=1,n=a.length,r=1<=n;r?t<n:t>n;r?t++:t--)e.push(.5*(a[t-1]+a[t]));else e=i;r=e.map(t=>x(t))}return W[n]&&(r=r.map(t=>t[n]())),r},x.cache=function(t){return null!=t?(p=t,x):p},x.gamma=function(t){return null!=t?(m=t,x):m},x.nodata=function(t){return null!=t?(n=W(t),x):n},x}const{round:Gt}=Math;Y.prototype.rgb=function(t=!0){return!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Gt)},Y.prototype.rgba=function(t=!0){return this._rgb.slice(0,4).map((e,n)=>n<3?!1===t?e:Gt(e):e)},Object.assign(W,{rgb:(...t)=>new Y(...t,"rgb")}),P.format.rgb=(...t)=>{const e=S(t,"rgba");return void 0===e[3]&&(e[3]=1),e},P.autodetect.push({p:3,test:(...t)=>{if("array"===j(t=S(t,"rgba"))&&(3===t.length||4===t.length&&"number"==j(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});const Ht=(t,e,n)=>{if(!Ht[n])throw new Error("unknown blend mode "+n);return Ht[n](t,e)},Zt=t=>(e,n)=>{const r=W(n).rgb(),i=W(e).rgb();return W.rgb(t(r,i))},Kt=t=>(e,n)=>{const r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r};Ht.normal=Zt(Kt(t=>t)),Ht.multiply=Zt(Kt((t,e)=>t*e/255)),Ht.screen=Zt(Kt((t,e)=>255*(1-(1-t/255)*(1-e/255)))),Ht.overlay=Zt(Kt((t,e)=>e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255)))),Ht.darken=Zt(Kt((t,e)=>t>e?e:t)),Ht.lighten=Zt(Kt((t,e)=>t>e?t:e)),Ht.dodge=Zt(Kt((t,e)=>255===t||(t=e/255*255/(1-t/255))>255?255:t)),Ht.burn=Zt(Kt((t,e)=>255*(1-(1-e/255)/(t/255))));const Xt=Ht,{pow:Vt,sin:Jt,cos:Qt}=Math,{floor:te,random:ee}=Math,{log:ne,pow:re,floor:ie,abs:se}=Math;function oe(t,e=null){const n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===j(t)&&(t=Object.values(t)),t.forEach(t=>{e&&"object"===j(t)&&(t=t[e]),null==t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)}),n.domain=[n.min,n.max],n.limits=(t,e)=>ae(n,t,e),n}function ae(t,e="equal",n=7){"array"==j(t)&&(t=oe(t));const{min:r,max:i}=t,s=t.values.sort((t,e)=>t-e);if(1===n)return[r,i];const o=[];if("c"===e.substr(0,1)&&(o.push(r),o.push(i)),"e"===e.substr(0,1)){o.push(r);for(let t=1;t<n;t++)o.push(r+t/n*(i-r));o.push(i)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const t=Math.LOG10E*ne(r),e=Math.LOG10E*ne(i);o.push(r);for(let r=1;r<n;r++)o.push(re(10,t+r/n*(e-t)));o.push(i)}else if("q"===e.substr(0,1)){o.push(r);for(let t=1;t<n;t++){const e=(s.length-1)*t/n,r=ie(e);if(r===e)o.push(s[r]);else{const t=e-r;o.push(s[r]*(1-t)+s[r+1]*t)}}o.push(i)}else if("k"===e.substr(0,1)){let t;const e=s.length,a=new Array(e),l=new Array(n);let u=!0,h=0,c=null;c=[],c.push(r);for(let t=1;t<n;t++)c.push(r+t/n*(i-r));for(c.push(i);u;){for(let t=0;t<n;t++)l[t]=0;for(let t=0;t<e;t++){const e=s[t];let r,i=Number.MAX_VALUE;for(let s=0;s<n;s++){const n=se(c[s]-e);n<i&&(i=n,r=s),l[r]++,a[t]=r}}const r=new Array(n);for(let t=0;t<n;t++)r[t]=null;for(let n=0;n<e;n++)t=a[n],null===r[t]?r[t]=s[n]:r[t]+=s[n];for(let t=0;t<n;t++)r[t]*=1/l[t];u=!1;for(let t=0;t<n;t++)if(r[t]!==c[t]){u=!0;break}c=r,h++,h>200&&(u=!1)}const f={};for(let t=0;t<n;t++)f[t]=[];for(let n=0;n<e;n++)t=a[n],f[t].push(s[n]);let d=[];for(let t=0;t<n;t++)d.push(f[t][0]),d.push(f[t][f[t].length-1]);d=d.sort((t,e)=>t-e),o.push(d[0]);for(let t=1;t<d.length;t+=2){const e=d[t];isNaN(e)||-1!==o.indexOf(e)||o.push(e)}}return o}const le=.022;function ue(t,e,n){return.2126729*Math.pow(t/255,2.4)+.7151522*Math.pow(e/255,2.4)+.072175*Math.pow(n/255,2.4)}const{sqrt:he,pow:ce,min:fe,max:de,atan2:pe,abs:me,cos:ge,sin:be,exp:ye,PI:ve}=Math,we={cool:()=>Bt([W.hsl(180,1,.9),W.hsl(250,.7,.4)]),hot:()=>Bt(["#000","#f00","#ff0","#fff"]).mode("rgb")},xe={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},_e=Object.keys(xe),ke=new Map(_e.map(t=>[t.toLowerCase(),t])),Me="function"==typeof Proxy?new Proxy(xe,{get(t,e){const n=e.toLowerCase();if(ke.has(n))return t[ke.get(n)]},getOwnPropertyNames:()=>Object.getOwnPropertyNames(_e)}):xe,{max:Oe}=Math;Y.prototype.cmyk=function(){return((...t)=>{let[e,n,r]=S(t,"rgb");e/=255,n/=255,r/=255;const i=1-Oe(e,Oe(n,r)),s=i<1?1/(1-i):0;return[(1-e-i)*s,(1-n-i)*s,(1-r-i)*s,i]})(this._rgb)},Object.assign(W,{cmyk:(...t)=>new Y(...t,"cmyk")}),P.format.cmyk=(...t)=>{t=S(t,"cmyk");const[e,n,r,i]=t,s=t.length>4?t[4]:1;return 1===i?[0,0,0,s]:[e>=1?0:255*(1-e)*(1-i),n>=1?0:255*(1-n)*(1-i),r>=1?0:255*(1-r)*(1-i),s]},P.autodetect.push({p:2,test:(...t)=>{if("array"===j(t=S(t,"cmyk"))&&4===t.length)return"cmyk"}});const Ae=(...t)=>{const[e,n,r,...i]=S(t,"rgb"),[s,o,a]=zt(e,n,r),[l,u,h]=vt(s,o,a);return[l,u,h,...i.length>0&&i[0]<1?[i[0]]:[]]},{round:je}=Math,Se=(...t)=>{const e=S(t,"rgba");let n=C(t)||"rgb";if("hsl"===n.substr(0,3))return((...t)=>{const e=S(t,"hsla");let n=C(t)||"lsa";return e[0]=D(e[0]||0)+"deg",e[1]=D(100*e[1])+"%",e[2]=D(100*e[2])+"%","hsla"===n||e.length>3&&e[3]<1?(e[3]="/ "+(e.length>3?e[3]:1),n="hsla"):e.length=3,`${n.substr(0,3)}(${e.join(" ")})`})(Tt(e),n);if("lab"===n.substr(0,3)){const t=tt();Q("d50");const r=((...t)=>{const e=S(t,"lab");let n=C(t)||"lab";return e[0]=D(e[0])+"%",e[1]=D(e[1]),e[2]=D(e[2]),"laba"===n||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lab(${e.join(" ")})`})(ot(e),n);return Q(t),r}if("lch"===n.substr(0,3)){const t=tt();Q("d50");const r=((...t)=>{const e=S(t,"lch");let n=C(t)||"lab";return e[0]=D(e[0])+"%",e[1]=D(e[1]),e[2]=isNaN(e[2])?"none":D(e[2])+"deg","lcha"===n||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lch(${e.join(" ")})`})(wt(e),n);return Q(t),r}return"oklab"===n.substr(0,5)?((...t)=>{const e=S(t,"lab");return e[0]=D(100*e[0])+"%",e[1]=L(e[1]),e[2]=L(e[2]),e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklab(${e.join(" ")})`})(zt(e)):"oklch"===n.substr(0,5)?((...t)=>{const e=S(t,"lch");return e[0]=D(100*e[0])+"%",e[1]=L(e[1]),e[2]=isNaN(e[2])?"none":D(e[2])+"deg",e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklch(${e.join(" ")})`})(Ae(e)):(e[0]=je(e[0]),e[1]=je(e[1]),e[2]=je(e[2]),("rgba"===n||e.length>3&&e[3]<1)&&(e[3]="/ "+(e.length>3?e[3]:1),n="rgba"),`${n.substr(0,3)}(${e.slice(0,"rgb"===n?3:4).join(" ")})`)},Ce=(...t)=>{t=S(t,"lch");const[e,n,r,...i]=t,[s,o,a]=pt(e,n,r),[l,u,h]=It(s,o,a);return[l,u,h,...i.length>0&&i[0]<1?[i[0]]:[]]},Ee=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,Te=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,Ne=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,De=/\s*/.source,Le=/\s+/.source,Re=/\s*,\s*/.source,Ie=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,ze=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,Fe=new RegExp("^rgba?\\("+De+[Ee,Ee,Ee].join(Le)+ze+"\\)$"),$e=new RegExp("^rgb\\("+De+[Ee,Ee,Ee].join(Re)+De+"\\)$"),Pe=new RegExp("^rgba\\("+De+[Ee,Ee,Ee,Te].join(Re)+De+"\\)$"),Ye=new RegExp("^hsla?\\("+De+[Ie,Ne,Ne].join(Le)+ze+"\\)$"),Ue=new RegExp("^hsl?\\("+De+[Ie,Ne,Ne].join(Re)+De+"\\)$"),We=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,qe=new RegExp("^lab\\("+De+[Te,Te,Te].join(Le)+ze+"\\)$"),Be=new RegExp("^lch\\("+De+[Te,Te,Ie].join(Le)+ze+"\\)$"),Ge=new RegExp("^oklab\\("+De+[Te,Te,Te].join(Le)+ze+"\\)$"),He=new RegExp("^oklch\\("+De+[Te,Te,Ie].join(Le)+ze+"\\)$"),{round:Ze}=Math,Ke=t=>t.map((t,e)=>e<=2?M(Ze(t),0,255):t),Xe=(t,e=0,n=100,r=!1)=>("string"==typeof t&&t.endsWith("%")&&(t=parseFloat(t.substring(0,t.length-1))/100,t=r?e+.5*(t+1)*(n-e):e+t*(n-e)),+t),Ve=(t,e)=>"none"===t?e:t,Je=t=>{if("transparent"===(t=t.toLowerCase().trim()))return[0,0,0,0];let e;if(P.format.named)try{return P.format.named(t)}catch(t){}if((e=t.match(Fe))||(e=t.match($e))){let t=e.slice(1,4);for(let e=0;e<3;e++)t[e]=+Xe(Ve(t[e],0),0,255);t=Ke(t);const n=void 0!==e[4]?+Xe(e[4],0,1):1;return t[3]=n,t}if(e=t.match(Pe)){const t=e.slice(1,5);for(let e=0;e<4;e++)t[e]=+Xe(t[e],0,255);return t}if((e=t.match(Ye))||(e=t.match(Ue))){const t=e.slice(1,4);t[0]=+Ve(t[0].replace("deg",""),0),t[1]=.01*+Xe(Ve(t[1],0),0,100),t[2]=.01*+Xe(Ve(t[2],0),0,100);const n=Ke(Et(t)),r=void 0!==e[4]?+Xe(e[4],0,1):1;return n[3]=r,n}if(e=t.match(We)){const t=e.slice(1,4);t[1]*=.01,t[2]*=.01;const n=Et(t);for(let t=0;t<3;t++)n[t]=Ze(n[t]);return n[3]=+e[4],n}if(e=t.match(qe)){const t=e.slice(1,4);t[0]=Xe(Ve(t[0],0),0,100),t[1]=Xe(Ve(t[1],0),-125,125,!0),t[2]=Xe(Ve(t[2],0),-125,125,!0);const n=tt();Q("d50");const r=Ke(rt(t));Q(n);const i=void 0!==e[4]?+Xe(e[4],0,1):1;return r[3]=i,r}if(e=t.match(Be)){const t=e.slice(1,4);t[0]=Xe(t[0],0,100),t[1]=Xe(Ve(t[1],0),0,150,!1),t[2]=+Ve(t[2].replace("deg",""),0);const n=tt();Q("d50");const r=Ke(mt(t));Q(n);const i=void 0!==e[4]?+Xe(e[4],0,1):1;return r[3]=i,r}if(e=t.match(Ge)){const t=e.slice(1,4);t[0]=Xe(Ve(t[0],0),0,1),t[1]=Xe(Ve(t[1],0),-.4,.4,!0),t[2]=Xe(Ve(t[2],0),-.4,.4,!0);const n=Ke(It(t)),r=void 0!==e[4]?+Xe(e[4],0,1):1;return n[3]=r,n}if(e=t.match(He)){const t=e.slice(1,4);t[0]=Xe(Ve(t[0],0),0,1),t[1]=Xe(Ve(t[1],0),0,.4,!1),t[2]=+Ve(t[2].replace("deg",""),0);const n=Ke(Ce(t)),r=void 0!==e[4]?+Xe(e[4],0,1):1;return n[3]=r,n}};Je.test=t=>Fe.test(t)||Ye.test(t)||qe.test(t)||Be.test(t)||Ge.test(t)||He.test(t)||$e.test(t)||Pe.test(t)||Ue.test(t)||We.test(t)||"transparent"===t;const Qe=Je;Y.prototype.css=function(t){return Se(this._rgb,t)},W.css=(...t)=>new Y(...t,"css"),P.format.css=Qe,P.autodetect.push({p:5,test:(t,...e)=>{if(!e.length&&"string"===j(t)&&Qe.test(t))return"css"}}),P.format.gl=(...t)=>{const e=S(t,"rgba");return e[0]*=255,e[1]*=255,e[2]*=255,e},W.gl=(...t)=>new Y(...t,"gl"),Y.prototype.gl=function(){const t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]},Y.prototype.hex=function(t){return K(this._rgb,t)},W.hex=(...t)=>new Y(...t,"hex"),P.format.hex=H,P.autodetect.push({p:4,test:(t,...e)=>{if(!e.length&&"string"===j(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});const{log:tn}=Math,en=t=>{const e=t/100;let n,r,i;return e<66?(n=255,r=e<6?0:-155.25485562709179-.44596950469579133*(r=e-2)+104.49216199393888*tn(r),i=e<20?0:.8274096064007395*(i=e-10)-254.76935184120902+115.67994401066147*tn(i)):(n=351.97690566805693+.114206453784165*(n=e-55)-40.25366309332127*tn(n),r=325.4494125711974+.07943456536662342*(r=e-50)-28.0852963507957*tn(r),i=255),[n,r,i,1]},{round:nn}=Math;Y.prototype.temp=Y.prototype.kelvin=Y.prototype.temperature=function(){return((...t)=>{const e=S(t,"rgb"),n=e[0],r=e[2];let i,s=1e3,o=4e4;for(;o-s>.4;){i=.5*(o+s);const t=en(i);t[2]/t[0]>=r/n?o=i:s=i}return nn(i)})(this._rgb)};const rn=(...t)=>new Y(...t,"temp");Object.assign(W,{temp:rn,kelvin:rn,temperature:rn}),P.format.temp=P.format.kelvin=P.format.temperature=en,Y.prototype.oklch=function(){return Ae(this._rgb)},Object.assign(W,{oklch:(...t)=>new Y(...t,"oklch")}),P.format.oklch=Ce,P.autodetect.push({p:2,test:(...t)=>{if("array"===j(t=S(t,"oklch"))&&3===t.length)return"oklch"}}),Object.assign(W,{analyze:oe,average:(t,e="lrgb",n=null)=>{const r=t.length;n||(n=Array.from(new Array(r)).map(()=>1));const i=r/n.reduce(function(t,e){return t+e});if(n.forEach((t,e)=>{n[e]*=i}),t=t.map(t=>new Y(t)),"lrgb"===e)return((t,e)=>{const n=t.length,r=[0,0,0,0];for(let i=0;i<t.length;i++){const s=t[i],o=e[i]/n,a=s._rgb;r[0]+=Ft(a[0],2)*o,r[1]+=Ft(a[1],2)*o,r[2]+=Ft(a[2],2)*o,r[3]+=a[3]*o}return r[0]=$t(r[0]),r[1]=$t(r[1]),r[2]=$t(r[2]),r[3]>.9999999&&(r[3]=1),new Y(O(r))})(t,n);const s=t.shift(),o=s.get(e),a=[];let l=0,u=0;for(let t=0;t<o.length;t++)if(o[t]=(o[t]||0)*n[0],a.push(isNaN(o[t])?0:n[0]),"h"===e.charAt(t)&&!isNaN(o[t])){const e=o[t]/180*Pt;l+=Yt(e)*n[0],u+=Ut(e)*n[0]}let h=s.alpha()*n[0];t.forEach((t,r)=>{const i=t.get(e);h+=t.alpha()*n[r+1];for(let t=0;t<o.length;t++)if(!isNaN(i[t]))if(a[t]+=n[r+1],"h"===e.charAt(t)){const e=i[t]/180*Pt;l+=Yt(e)*n[r+1],u+=Ut(e)*n[r+1]}else o[t]+=i[t]*n[r+1]});for(let t=0;t<o.length;t++)if("h"===e.charAt(t)){let e=Wt(u/a[t],l/a[t])/Pt*180;for(;e<0;)e+=360;for(;e>=360;)e-=360;o[t]=e}else o[t]=o[t]/a[t];return h/=r,new Y(o,e).alpha(h>.99999?1:h,!0)},bezier:t=>{const e=function(t){let e,n,r,i;if(2===(t=t.map(t=>new Y(t))).length)[n,r]=t.map(t=>t.lab()),e=function(t){const e=[0,1,2].map(e=>n[e]+t*(r[e]-n[e]));return new Y(e,"lab")};else if(3===t.length)[n,r,i]=t.map(t=>t.lab()),e=function(t){const e=[0,1,2].map(e=>(1-t)*(1-t)*n[e]+2*(1-t)*t*r[e]+t*t*i[e]);return new Y(e,"lab")};else if(4===t.length){let s;[n,r,i,s]=t.map(t=>t.lab()),e=function(t){const e=[0,1,2].map(e=>(1-t)*(1-t)*(1-t)*n[e]+3*(1-t)*(1-t)*t*r[e]+3*(1-t)*t*t*i[e]+t*t*t*s[e]);return new Y(e,"lab")}}else{if(!(t.length>=5))throw new RangeError("No point in running bezier with only one color.");{let n,r,i;n=t.map(t=>t.lab()),i=t.length-1,r=function(t){let e=[1,1];for(let n=1;n<t;n++){let t=[1];for(let n=1;n<=e.length;n++)t[n]=(e[n]||0)+e[n-1];e=t}return e}(i),e=function(t){const e=1-t,s=[0,1,2].map(s=>n.reduce((n,o,a)=>n+r[a]*e**(i-a)*t**a*o[s],0));return new Y(s,"lab")}}}return e}(t);return e.scale=()=>Bt(e),e},blend:Xt,brewer:Me,Color:Y,colors:q,contrast:(t,e)=>{t=new Y(t),e=new Y(e);const n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},contrastAPCA:(t,e)=>{t=new Y(t),e=new Y(e),t.alpha()<1&&(t=ct(e,t,t.alpha(),"rgb"));const n=ue(...t.rgb()),r=ue(...e.rgb()),i=n>=le?n:n+Math.pow(le-n,1.414),s=r>=le?r:r+Math.pow(le-r,1.414),o=Math.pow(s,.56)-Math.pow(i,.57),a=Math.pow(s,.65)-Math.pow(i,.62),l=Math.abs(s-i)<5e-4?0:i<s?1.14*o:1.14*a;return 100*(Math.abs(l)<.1?0:l>0?l-.027:l+.027)},cubehelix:function(t=300,e=-1.5,n=1,r=1,i=[0,1]){let s,o=0;"array"===j(i)?s=i[1]-i[0]:(s=0,i=[i,i]);const a=function(a){const l=R*((t+120)/360+e*a),u=Vt(i[0]+s*a,r),h=(0!==o?n[0]+a*o:n)*u*(1-u)/2,c=Qt(l),f=Jt(l);return W(O([255*(u+h*(-.14861*c+1.78277*f)),255*(u+h*(-.29227*c-.90649*f)),255*(u+h*(1.97294*c)),1]))};return a.start=function(e){return null==e?t:(t=e,a)},a.rotations=function(t){return null==t?e:(e=t,a)},a.gamma=function(t){return null==t?r:(r=t,a)},a.hue=function(t){return null==t?n:("array"===j(n=t)?(o=n[1]-n[0],0===o&&(n=n[1])):o=0,a)},a.lightness=function(t){return null==t?i:("array"===j(t)?(i=t,s=t[1]-t[0]):(i=[t,t],s=0),a)},a.scale=()=>W.scale(a),a.hue(n),a},deltaE:function(t,e,n=1,r=1,i=1){var s=function(t){return 360*t/(2*ve)},o=function(t){return 2*ve*t/360};t=new Y(t),e=new Y(e);const[a,l,u]=Array.from(t.lab()),[h,c,f]=Array.from(e.lab()),d=(a+h)/2,p=(he(ce(l,2)+ce(u,2))+he(ce(c,2)+ce(f,2)))/2,m=.5*(1-he(ce(p,7)/(ce(p,7)+ce(25,7)))),g=l*(1+m),b=c*(1+m),y=he(ce(g,2)+ce(u,2)),v=he(ce(b,2)+ce(f,2)),w=(y+v)/2,x=s(pe(u,g)),_=s(pe(f,b)),k=x>=0?x:x+360,M=_>=0?_:_+360,O=me(k-M)>180?(k+M+360)/2:(k+M)/2,A=1-.17*ge(o(O-30))+.24*ge(o(2*O))+.32*ge(o(3*O+6))-.2*ge(o(4*O-63));let j=M-k;j=me(j)<=180?j:M<=k?j+360:j-360,j=2*he(y*v)*be(o(j)/2);const S=h-a,C=v-y,E=1+.015*ce(d-50,2)/he(20+ce(d-50,2)),T=1+.045*w,N=1+.015*w*A,D=30*ye(-ce((O-275)/25,2)),L=-2*he(ce(w,7)/(ce(w,7)+ce(25,7)))*be(2*o(D)),R=he(ce(S/(n*E),2)+ce(C/(r*T),2)+ce(j/(i*N),2)+L*(C/(r*T))*(j/(i*N)));return de(0,fe(100,R))},distance:function(t,e,n="lab"){t=new Y(t),e=new Y(e);const r=t.get(n),i=e.get(n);let s=0;for(let t in r){const e=(r[t]||0)-(i[t]||0);s+=e*e}return Math.sqrt(s)},input:P,interpolate:ct,limits:ae,mix:ct,random:()=>{let t="#";for(let e=0;e<6;e++)t+="0123456789abcdef".charAt(te(16*ee()));return new Y(t,"hex")},scale:Bt,scales:we,valid:(...t)=>{try{return new Y(...t),!0}catch(t){return!1}}});const sn=W,on=function(t){let{name:e=null,reverse:n=!1,mode:r="rgb",correctLightness:i=!1,gamma:s=1,colors:o=5,nodata:a="#eeeeee"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=sn.scale(e);i&&l.correctLightness(),a&&l.nodata(a),l.gamma(s),l.mode(r);let u=l.colors(o);return n&&u.reverse(),{hexcolors:u,nodata:a}},an=function(t){let{position:e="right",labels:n=!0,suffix:r="",fontFamily:i=y[0].value,fontSize:s=18,fontWeight:o="normal",fontColor:a="#212529",textAlignment:l="middle"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{position:e,labels:n,fontFamily:i,fontSize:s,fontWeight:o,fontColor:a,textAlignment:l,suffix:r}},ln=function(t){let{}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.style("rect:hover",{strokeWidth:2})},un=function(t){let{fn:e="log10"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{fn:e}},hn=function(t){switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null){case"log10":t=Math.log10(t)||null;break;case"log2":t=Math.log2(t)||null;break;case"log":t=Math.log(t)||null;break;case"sqrt":t=Math.sqrt(t)||null;break;case"x2":t*=t||null;break;case"1/x":t=1/t||null}return t},cn={DATEFORMAT:"Available formats:\n\nYY - Two-digit year\nYYYY - Four-digit year\n\nM - 1-12\nMM - 01-12\nMMM - Jan-Dec\nMMMM - January-December\n\nD - Day 0-31\nDD - Day 01-31",LOCALES:"Set the language for number format, month and weekday labels (default: English)",MONTHWRAP:"Select the number of months after which the following months wrap into the next row"},fn=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,{display:e="inline"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return["block"].indexOf(e)>-1&&t?[{type:"help",display:e,content:cn[t]}]:"info-icon"==e&&t?'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" style="float: right; margin-top:.5rem;" viewBox="0 0 16 16">\n              <title>'.concat(cn[t],'</title>\n              <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>\n              <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>\n            </svg>'):[]},dn=function(t){let{format:e="YYYY-MM-DD",data:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{format:e,data:n}},pn=function(t){let{}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.style("rect:hover",{strokeWidth:2})};var mn=n(4353),gn=n.n(mn),bn=n(1840),yn=n.n(bn),vn=n(3581),wn=n.n(vn),xn=n(8313),_n=n.n(xn),kn=n(7581),Mn=n.n(kn),On=n(3200),An=n.n(On);const jn=Intl.DateTimeFormat.supportedLocalesOf(["af-NA","af-ZA","af","ak-GH","ak","sq-AL","sq","am-ET","am","ar-DZ","ar-BH","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LB","ar-LY","ar-MA","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-TN","ar-AE","ar-YE","ar","hy-AM","hy","as-IN","as","asa-TZ","asa","az-Cyrl","az-Cyrl-AZ","az-Latn","az-Latn-AZ","az","bm-ML","bm","eu-ES","eu","be-BY","be","bem-ZM","bem","bez-TZ","bez","bn-BD","bn-IN","bn","bs-BA","bs","bg-BG","bg","my-MM","my","yue-Hant-HK","ca-ES","ca","tzm-Latn","tzm-Latn-MA","tzm","chr-US","chr","cgg-UG","cgg","zh-Hans","zh-Hans-CN","zh-Hans-HK","zh-Hans-MO","zh-Hans-SG","zh-Hant","zh-Hant-HK","zh-Hant-MO","zh-Hant-TW","zh","kw-GB","kw","hr-HR","hr","cs-CZ","cs","da-DK","da","nl-BE","nl-NL","nl","ebu-KE","ebu","en-AS","en-AU","en-BE","en-BZ","en-BW","en-CA","en-GU","en-HK","en-IN","en-IE","en-IL","en-JM","en-MT","en-MH","en-MU","en-NA","en-NZ","en-MP","en-PK","en-PH","en-SG","en-ZA","en-TT","en-UM","en-VI","en-GB","en-US","en-ZW","en","eo","et-EE","et","ee-GH","ee-TG","ee","fo-FO","fo","fil-PH","fil","fi-FI","fi","fr-BE","fr-BJ","fr-BF","fr-BI","fr-CM","fr-CA","fr-CF","fr-TD","fr-KM","fr-CG","fr-CD","fr-CI","fr-DJ","fr-GQ","fr-FR","fr-GA","fr-GP","fr-GN","fr-LU","fr-MG","fr-ML","fr-MQ","fr-MC","fr-NE","fr-RW","fr-RE","fr-BL","fr-MF","fr-SN","fr-CH","fr-TG","fr","ff-SN","ff","gl-ES","gl","lg-UG","lg","ka-GE","ka","de-AT","de-BE","de-DE","de-LI","de-LU","de-CH","de","el-CY","el-GR","el","gu-IN","gu","guz-KE","guz","ha-Latn","ha-Latn-GH","ha-Latn-NE","ha-Latn-NG","ha","haw-US","haw","he-IL","he","hi-IN","hi","hu-HU","hu","is-IS","is","ig-NG","ig","id-ID","id","ga-IE","ga","it-IT","it-CH","it","ja-JP","ja","kea-CV","kea","kab-DZ","kab","kl-GL","kl","kln-KE","kln","kam-KE","kam","kn-IN","kn","kk-Cyrl","kk-Cyrl-KZ","kk","km-KH","km","ki-KE","ki","rw-RW","rw","kok-IN","kok","ko-KR","ko","khq-ML","khq","ses-ML","ses","lag-TZ","lag","lv-LV","lv","lt-LT","lt","luo-KE","luo","luy-KE","luy","mk-MK","mk","jmc-TZ","jmc","kde-TZ","kde","mg-MG","mg","ms-BN","ms-MY","ms","ml-IN","ml","mt-MT","mt","gv-GB","gv","mr-IN","mr","mas-KE","mas-TZ","mas","mer-KE","mer","mfe-MU","mfe","naq-NA","naq","ne-IN","ne-NP","ne","nd-ZW","nd","nb-NO","nb","nn-NO","nn","nyn-UG","nyn","or-IN","or","om-ET","om-KE","om","ps-AF","ps","fa-AF","fa-IR","fa","pl-PL","pl","pt-BR","pt-GW","pt-MZ","pt-PT","pt","pa-Arab","pa-Arab-PK","pa-Guru","pa-Guru-IN","pa","ro-MD","ro-RO","ro","rm-CH","rm","rof-TZ","rof","ru-MD","ru-RU","ru-UA","ru","rwk-TZ","rwk","saq-KE","saq","sg-CF","sg","seh-MZ","seh","sr-Cyrl","sr-Cyrl-BA","sr-Cyrl-ME","sr-Cyrl-RS","sr-Latn","sr-Latn-BA","sr-Latn-ME","sr-Latn-RS","sr","sn-ZW","sn","ii-CN","ii","si-LK","si","sk-SK","sk","sl-SI","sl","xog-UG","xog","so-DJ","so-ET","so-KE","so-SO","so","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-SV","es-GQ","es-GT","es-HN","es-419","es-MX","es-NI","es-PA","es-PY","es-PE","es-PR","es-ES","es-US","es-UY","es-VE","es","sw-KE","sw-TZ","sw","sv-FI","sv-SE","sv","gsw-CH","gsw","shi-Latn","shi-Latn-MA","shi-Tfng","shi-Tfng-MA","shi","dav-KE","dav","ta-IN","ta-LK","ta","te-IN","te","teo-KE","teo-UG","teo","th-TH","th","bo-CN","bo-IN","bo","ti-ER","ti-ET","ti","to-TO","to","tr-TR","tr","uk-UA","uk","ur-IN","ur-PK","ur","uz-Arab","uz-Arab-AF","uz-Cyrl","uz-Cyrl-UZ","uz-Latn","uz-Latn-UZ","uz","vi-VN","vi","vun-TZ","vun","cy-GB","cy","yo-NG","yo","zu-ZA","zu"].filter(t=>{if(!t.match(/\D-/))return t}),{localeMatcher:"lookup"}),Sn=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long";const n=new Intl.DateTimeFormat(t,{month:e}).format;return[...Array(12).keys()].map(t=>n(new Date(Date.UTC(2021,t%12))))},Cn=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long";const{format:n}=new Intl.DateTimeFormat(t,{weekday:e});return[...Array(7).keys()].map(t=>n(new Date(Date.UTC(2021,5,t-1))))},En=function(){let{locale:t="en-US"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{locale:t}};gn().extend(yn()),gn().extend(wn()),gn().extend(_n()),gn().extend(Mn()),gn().extend(An());const Tn=function(t){let{x:e=0,y:n=0,data:r=[],weekStart:i=1,tileSize:s=16,tileColor:o="#dddddd",tileFuture:a=!0,tileShape:l="rectangle",tilePadding:u=4.5,monthPadding:h=10,monthGap:c=!0,monthsWrapAfter:f=12,monthsRowsReverse:d=!1,calendarMonthLabels:p=!1,calendarWeekLabels:m=!1,scale:g=!1,legend:b=!1,transform:y=!1,tooltip:v=!1,dataInput:w=!1,i18n:x=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=e,k=e,M=n,O=e,A=M,j=0,S=sn(o).darken(2).hex(),C=0;s=Number(s),u=Number(u),h=Number(h),i=Number(i);let E=gn()().subtract(8,"month").startOf("month"),T=12,N=gn().min(...r.map(t=>gn()(t.date||t[w.dateColumn])))||null,D=gn().max(...r.map(t=>gn()(t.date||t[w.dateColumn])))||null,L=Math.min(...r.filter(t=>null!==(t.value||t[w.valueColumn])&&!isNaN(t.value||t[w.valueColumn])).map(t=>t.value||t[w.valueColumn])),R=Math.max(...r.filter(t=>null!==(t.value||t[w.valueColumn])&&!isNaN(t.value||t[w.valueColumn])).map(t=>t.value||t[w.valueColumn])),I=r.map(t=>(void 0!==t.date?t.date=gn()(t.date).format("YYYY-MM-DD"):t[w.dateColumn]=gn()(t[w.dateColumn]).format("YYYY-MM-DD"),t));N&&w&&(E=N.startOf("month"),T=Math.ceil(D.diff(N,"month",!0))),gn().updateLocale("en",{months:function(t,e){return x?Sn(x.locale,"long")[t.month()]:Sn("en","long")[t.month()]},monthsShort:function(t,e){return x?Sn(x.locale,"short")[t.month()]:Sn("en","short")[t.month()]},weekdays:Cn(x.locale||"en","long"),weekdaysShort:Cn(x.locale||"en","long").map(t=>t.substring(0,3)),weekdaysMin:Cn(x.locale||"en","short")});let z=[];g&&(z=g.hexcolors);let F=[...Array(7).keys()],$=0;m&&("dd"==m.format&&(F=gn().weekdaysMin()),"ddd"==m.format&&(F=gn().weekdaysShort()),"dddd"==m.format&&(F=gn().weekdays()),[0,2,4,6].forEach(e=>{let n=t.text(F[(e+i)%F.length]);n.font({family:m.fontFamily,size:m.fontSize,weight:m.fontWeight}),$<n.bbox().w&&($=n.bbox().w+5+u),n.remove()}),k+=$);let P=null;for(let d=0;d<T;d++){P||(P=t.group().addClass("row"));let T=!1;d>0&&d%f==0&&(k=_+$,n=M+=7*s+6*u+2*s,p&&""!==p.format&&(M+=C),T=!0,P=t.group().addClass("row"));let N=t.group(),D=E.daysInMonth(),Y=1;for(let h=0;h<6;h++){let c=!1,f=i%F.length;for(let p=0;p<7;p++){if(D<Y)continue;if(e=k+(u+s)*h,n=M+(u+s)*p,(0==d||T)&&0==h&&m&&[0,2,4,6].indexOf(p)>-1){let e=t.text(F[(p+i)%F.length]);e.font({family:m.fontFamily,size:m.fontSize,weight:m.fontWeight,anchor:m.textAlignment,fill:m.fontColor}),e.addClass("calendar-week"),e.move(k-($-u),n-2),N.add(e)}if(e>j&&(j=e),0==h&&!c){if(F[f%F.length]!=F[E.isoWeekday()%F.length]){f++;continue}c=!0}let _=o,O=null,C=null;if(g&&r.length>0){let t=E.format("YYYY-MM-DD");if(O=I.find(e=>e[w.dateColumn]==t)||null,O){C=O.value||O[w.valueColumn];let t=Nn(L,R,z.length),e=Dn(t,C);y&&(t=Nn(hn(L,y.fn),hn(R,y.fn),z.length),e=Dn(t,hn(C,y.fn))),_=e>-1&&null!==C?z[e]:g.nodata}}let P=Ln(t,e,n,l,s,_,S);if(v&&P){let e=E.format(v.format);v.data&&(e=O?"".concat(null!==C?"".concat(Intl.NumberFormat(x.locale||"en",{maximumSignificantDigits:4}).format(C)).concat(b?b.suffix:""):"NaN"," on ").concat(e):e),P.add(t.element("title").words(e))}E.isToday()&&a&&(o=sn(o).brighten(.5)),_==g.nodata&&P.addClass("no-data"),E.isAfter(gn()())&&P.addClass("future"),A<n&&(A=n),D==Y&&6==p&&(e+=s+u),N.add(P),E=E.add(1,"day"),Y++}}if(p&&""!==p.format){let n=t.plain(E.subtract(1,"day").format(p.format));n.font({family:p.fontFamily,size:p.fontSize,weight:p.fontWeight,anchor:p.textAlignment,fill:p.fontColor}),n.addClass("calendar-month"),"middle"==p.textAlignment?n.amove(k+(s+e-k)/2,A+u+s+n.bbox().h):"end"==p.textAlignment?n.amove(e+s,A+u+s+n.bbox().h):n.amove(k,A+u+s+n.bbox().h),C=n.bbox().h,N.add(n),P.add(N)}k=e,c&&(k+=h+s),O<k&&(O=k)}if(d){let e=t.find(".row"),n=[];e.each(t=>{let e=t.bbox();n.push({x:e.x,y:e.y})}),n.reverse().forEach((t,n)=>{e[n].move(t.x,t.y)})}return M+=7*s+6*u+1.5*s,p&&""!==p.format&&(M+=C),b&&(M=Rn(t,O,M,z,L,R,l,S,s,u,c,h,b,y,v,x)),{x:j+s,y:M}};function Nn(t,e,n){const r=(e-t)/n,i=[];for(let s=0;s<n;s++)i.push([s*r+t,s==n-1?e:(s+1)*r+t]);return i}function Dn(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(e>=r[0]&&e<=r[1])return n}return-1}const Ln=(t,e,n,r,i,s,o)=>{let a=null;return a="circle"==r?t.circle(i).fill({color:s,opacity:1}).move(e,n).stroke({color:o,opacity:.75,width:1}):t.rect(i,i).fill({color:s,opacity:1}).move(e,n).stroke({color:o,opacity:.75,width:1}),"rectangle (rounded)"==r&&a.radius(.2*i),a},Rn=(t,e,n,r,i,s,o,a,l,u,h,c,f,d,p,m)=>{let g=Number.isFinite(i)?i:"Min",b=Number.isFinite(s)?s:"Max",y=e,v=0,w=t.group();"left"==f.position&&(y=20),"right"==f.position&&(y=e-r.length*(u+l),h&&(y-=c)),"center"==f.position&&(y=e/2-r.length*(u+l)/2),d&&(g=hn(i,d.fn)||"Min",b=hn(s,d.fn)||"Max");const x=new Intl.NumberFormat(m.locale||"en",{maximumSignificantDigits:4});"Min"!=g&&(g=x.format(g)),"Max"!=b&&(b=x.format(b)),""!=f.suffix&&("Min"!=g&&(g+=f.suffix),"Max"!=b&&(b+=f.suffix));var _=0;if("center"!=f.position){var k=t.plain("right"==f.position?b:g);k.font({family:f.fontFamily,size:f.fontSize,weight:f.fontWeight}),_=k.bbox().w/2,k.remove(),"right"==f.position&&(_=-1*(_+10))}for(let e=0;e<r.length;e++){let h=Ln(t,y+_+(u+l)*e,n,o,l,r[e],a);if((0==e||e==r.length-1)&&f.labels){var M=t.plain(0==e?g:b);M.font({family:f.fontFamily,size:f.fontSize,weight:f.fontWeight,anchor:"middle",fill:f.fontColor}),M.addClass("legend"),v=M.bbox().h,M.amove(h.x()+l/2,n+l+v),w.add(M)}if(p&&h&&isFinite(i)&&isFinite(s)){let n=Nn(hn(i,d.fn),hn(s,d.fn),r.length),o="".concat(x.format(n[e][0])).concat(f.suffix," to ").concat(x.format(n[e][1])).concat(f.suffix);h.add(t.element("title").words(o))}w.add(h)}return n+(l+v)},In=function(t){let{format:e="MMM 'YY",fontFamily:n=y[0].value,fontSize:r=18,fontWeight:i="normal",fontColor:s="#212529",textAlignment:o="middle"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{format:e,fontFamily:n,fontSize:r,fontWeight:i,fontColor:s,textAlignment:o}},zn=function(t){let{format:e="ddd",fontFamily:n=y[0].value,fontSize:r=18,fontWeight:i="normal",fontColor:s="#212529",textAlignment:o="start"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{format:e,fontFamily:n,fontSize:r,fontWeight:i,fontColor:s,textAlignment:o}},Fn=function(t){let{dateColumn:e="",valueColumn:n=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{dateColumn:e,valueColumn:n}},$n=[{id:"title",headerTitle:"Title",show:!0,disabled:!1,options:[{type:"text",name:"titleText",value:"Main Title",label:"Text"},...v({size:36})]},{id:"subtitle",headerTitle:"Subtitle",show:!0,disabled:!1,options:[{type:"text",name:"titleText",value:"Sub Title",label:"Text"},...v({size:24,fontColor:"#65696c"})]},(()=>{let t=Object.keys(sn.brewer).filter(t=>t.charAt(0)==t.charAt(0).toUpperCase()).sort((t,e)=>t.toLowerCase()<e.toLowerCase()?-1:1),e=t.map(t=>({value:sn.scale(t).colors(5),name:t}));return{id:"scale",headerTitle:"Scale",show:!0,disabled:!1,options:[{type:"scales",name:"name",value:t[t.length-1],options:e,label:"Color Scale"},{type:"check",name:"reverse",value:!1,label:"Reverse Scale"},{type:"range",name:"colors",value:5,label:"Color Steps",step:1,min:3,max:12},{type:"select",name:"mode",value:"rgb",options:["rgb","lrgb","lab","hsl","lch"],label:"Color Mode"},{type:"check",name:"correctLightness",value:!1,label:"Correct Lightness"},{type:"range",name:"gamma",value:1,label:"Gamma",step:.1,min:.1,max:2},{type:"color",name:"nodata",value:"#eeeeee",label:"No Data Color"}]}})(),{id:"legend",headerTitle:"Legend",show:!0,disabled:!1,options:[{type:"select",name:"position",value:"right",options:["left","center","right"],label:"Position",className:"col-6"},{type:"text",name:"suffix",value:"",label:"Suffix",className:"col-6"},{type:"check",name:"labels",value:!0,label:"Show Labels"},...v({size:18})]},{id:"labels",headerTitle:"labels",show:!0,disabled:!1,options:[{type:"select",name:"mode",value:"rgb",options:["rgb","lrgb","lab","hsl","lch"],label:"Color Mode"},{type:"check",name:"correctLightness",value:!1,label:"Correct Lightness"},{type:"range",name:"colors",value:5,label:"Colors",step:1,min:2,max:10},{type:"color",name:"nodata",value:"#eeeeee",label:"No Data Color"}]},{id:"hover",headerTitle:"Hover Effect",show:!1,disabled:!1,options:[]},{id:"transform",headerTitle:"Transform",show:!1,disabled:!1,options:[{type:"select",name:"fn",value:"log₁₀",options:[{value:"log10",name:"log₁₀(x) - base 10 logarithm"},{value:"log2",name:"log₂(x) - base 2 logarithm"},{value:"log",name:"ln(x) - natural logarithm (base ℇ)"},{value:"sqrt",name:"√ₓ - Square Root"},{value:"x2",name:"x² - x squared"},{value:"1/x",name:"¹∕ₓ - 1 over x"}],label:"Transform Data"}]},{id:"tooltip",headerTitle:"Tooltips",show:!1,disabled:!1,options:[{type:"text",name:"format",value:"YYYY-MM-DD",label:"Date Format",icon:fn("DATEFORMAT",{display:"info-icon"})},{type:"check",name:"data",value:!0,label:"Include Datapoint"}]},{id:"darkmode",headerTitle:"Darkmode",show:!0,disabled:!1,options:[]},{id:"calendar",headerTitle:"Calendar",show:!0,disabled:!0,options:[{type:"range",name:"tileSize",value:16,label:"Tile Size",step:.5,min:2,max:30},{type:"select",name:"tileShape",value:"rectangle",options:["rectangle","rectangle (rounded)","circle"],label:"Tile Shape"},{type:"color",name:"tileColor",value:"#dddddd",label:"Tile Color"},{type:"check",name:"tileFuture",value:!0,label:"Future Days (lighten color)"},{type:"separator"},{type:"range",name:"tilePadding",value:4.5,label:"Tile Padding",step:.5,min:0,max:10},{type:"range",name:"monthPadding",value:10,label:"Month Padding",step:1,min:0,max:50},{type:"check",name:"monthGap",value:!0,label:"Gap between Months"},{type:"separator"},{type:"select",name:"weekStart",value:0,options:[{value:1,name:"Monday"},{value:2,name:"Tuesday"},{value:3,name:"Wednesday"},{value:4,name:"Thursday"},{value:5,name:"Friday"},{value:6,name:"Saturday"},{value:0,name:"Sunday"}],label:"Week Start"},{type:"separator"},{type:"range",name:"monthsWrapAfter",value:12,label:"Months Wrap",icon:fn("MONTHWRAP",{display:"info-icon"}),step:1,min:1,max:24},{type:"check",name:"monthsRowsReverse",value:!1,label:"Reverse Row Order"}]},{id:"calendar-month",headerTitle:"Month Labels",show:!0,disabled:!1,options:[{type:"text",name:"format",value:"MMM 'YY",label:"Month Label Format",icon:fn("DATEFORMAT",{display:"info-icon"})},...v({size:18,textAlignment:"middle"})]},{id:"calendar-week",headerTitle:"Week Labels",show:!0,disabled:!1,options:[{type:"select",name:"format",value:"ddd",options:[{name:"Mo, Tu, We, Th …",value:"dd"},{name:"Mon, Tue, Wed, …",value:"ddd"},{name:"Monday, Tuesday, …",value:"dddd"}],label:"Week Label Format"},...v({size:18})]},{id:"data-input",headerTitle:"Imported Data",show:!1,disabled:!1,options:[{type:"select",name:"dateColumn",value:"",options:[],label:"Dates"},{type:"select",name:"valueColumn",value:"",options:[],label:"Values"}]},(()=>{const t=new Intl.DisplayNames(navigator.languages||["en"],{type:"language"}),e=jn.filter(e=>t.of(e)!=e).map(e=>({value:e,name:t.of(e)})).sort((t,e)=>t.name.localeCompare(e.name));return{id:"i18n",headerTitle:"Language",show:!1,disabled:!1,options:[{type:"select",name:"locale",value:navigator.language.split("-")[0]||"en",options:e,label:"Localization"},...fn("LOCALES",{display:"block"})]}})()],Pn=$n,Yn=["title","subtitle","scale","legend","i18n","hover","tooltip","data-input","data","transform","calendar-month","calendar-week","calendar"],Un={Layout:["calendar","title","subtitle","calendar-month","calendar-week","legend","i18n"],Data:["data-input","scale","transform"],Interactivity:["hover","tooltip","darkmode"]},Wn=[{title:"No Labels",settings:JSON.parse('{"title":{"show":false},"subtitle":{"show":false},"calendar-month":{"show":false},"calendar-week":{"show":false},"hover":{"show":false},"tooltip":{"show":false},"legend":{"labels":false}}')}],qn={},Bn=[];function Gn(t,e){if(Array.isArray(t))for(const n of t)Gn(n,e);else if("object"!=typeof t)Zn(Object.getOwnPropertyNames(e)),qn[t]=Object.assign(qn[t]||{},e);else for(const e in t)Gn(e,t[e])}function Hn(t){return qn[t]||{}}function Zn(t){Bn.push(...t)}function Kn(t,e){let n;const r=t.length,i=[];for(n=0;n<r;n++)i.push(e(t[n]));return i}function Xn(t){return t%360*Math.PI/180}function Vn(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})}function Jn(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Qn(t,e,n,r){return null!=e&&null!=n||(r=r||t.bbox(),null==e?e=r.width/r.height*n:null==n&&(n=r.height/r.width*e)),{width:e,height:n}}function tr(t,e){const n=t.origin;let r=null!=t.ox?t.ox:null!=t.originX?t.originX:"center",i=null!=t.oy?t.oy:null!=t.originY?t.originY:"center";null!=n&&([r,i]=Array.isArray(n)?n:"object"==typeof n?[n.x,n.y]:[n,n]);const s="string"==typeof r,o="string"==typeof i;if(s||o){const{height:t,width:n,x:a,y:l}=e.bbox();s&&(r=r.includes("left")?a:r.includes("right")?a+n:a+n/2),o&&(i=i.includes("top")?l:i.includes("bottom")?l+t:l+t/2)}return[r,i]}const er=new Set(["desc","metadata","title"]),nr=t=>er.has(t.nodeName),rr=(t,e,n={})=>{const r={...e};for(const t in r)r[t].valueOf()===n[t]&&delete r[t];Object.keys(r).length?t.node.setAttribute("data-svgjs",JSON.stringify(r)):(t.node.removeAttribute("data-svgjs"),t.node.removeAttribute("svgjs:data"))},ir="http://www.w3.org/2000/svg",sr="http://www.w3.org/2000/xmlns/",or="http://www.w3.org/1999/xlink",ar={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};class lr{}const ur={},hr="___SYMBOL___ROOT___";function cr(t,e=ir){return ar.document.createElementNS(e,t)}function fr(t,e=!1){if(t instanceof lr)return t;if("object"==typeof t)return mr(t);if(null==t)return new ur[hr];if("string"==typeof t&&"<"!==t.trim().charAt(0))return mr(ar.document.querySelector(t));const n=e?ar.document.createElement("div"):cr("svg");return n.innerHTML=t.trim(),t=mr(n.firstElementChild),n.removeChild(n.firstElementChild),t}function dr(t,e){return e&&(e instanceof ar.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:cr(t)}function pr(t){if(!t)return null;if(t.instance instanceof lr)return t.instance;if("#document-fragment"===t.nodeName)return new ur.Fragment(t);let e=Jn(t.nodeName||"Dom");return"LinearGradient"===e||"RadialGradient"===e?e="Gradient":ur[e]||(e="Dom"),new ur[e](t)}let mr=pr;function gr(t,e=t.name,n=!1){return ur[e]=t,n&&(ur[hr]=t),Zn(Object.getOwnPropertyNames(t.prototype)),t}let br=1e3;function yr(t){return"Svgjs"+Jn(t)+br++}function vr(t){for(let e=t.children.length-1;e>=0;e--)vr(t.children[e]);return t.id?(t.id=yr(t.nodeName),t):t}function wr(t,e){let n,r;for(r=(t=Array.isArray(t)?t:[t]).length-1;r>=0;r--)for(n in e)t[r].prototype[n]=e[n]}function xr(t){return function(...e){const n=e[e.length-1];return!n||n.constructor!==Object||n instanceof Array?t.apply(this,e):t.apply(this,e.slice(0,-1)).attr(n)}}Gn("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const t=this.position();return this.parent().add(this.remove(),t+1),this},backward:function(){const t=this.position();return this.parent().add(this.remove(),t?t-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(t){(t=fr(t)).remove();const e=this.position();return this.parent().add(t,e),this},after:function(t){(t=fr(t)).remove();const e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=fr(t)).before(this),this},insertAfter:function(t){return(t=fr(t)).after(this),this}});const _r=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,kr=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Mr=/rgb\((\d+),(\d+),(\d+)\)/,Or=/(#[a-z_][a-z0-9\-_]*)/i,Ar=/\)\s*,?\s*/,jr=/\s/g,Sr=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,Cr=/^rgb\(/,Er=/^(\s+)?$/,Tr=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nr=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Dr=/[\s,]+/,Lr=/[MLHVCSQTAZ]/i;function Rr(t){const e=Math.round(t),n=Math.max(0,Math.min(255,e)).toString(16);return 1===n.length?"0"+n:n}function Ir(t,e){for(let n=e.length;n--;)if(null==t[e[n]])return!1;return!0}function zr(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}Gn("Dom",{classes:function(){const t=this.attr("class");return null==t?[]:t.trim().split(Dr)},hasClass:function(t){return-1!==this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){const e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!==t}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}),Gn("Dom",{css:function(t,e){const n={};if(0===arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter(function(t){return!!t.length}).forEach(function(t){const e=t.split(/\s*:\s*/);n[e[0]]=e[1]}),n;if(arguments.length<2){if(Array.isArray(t)){for(const e of t){const t=e;n[e]=this.node.style.getPropertyValue(t)}return n}if("string"==typeof t)return this.node.style.getPropertyValue(t);if("object"==typeof t)for(const e in t)this.node.style.setProperty(e,null==t[e]||Er.test(t[e])?"":t[e])}return 2===arguments.length&&this.node.style.setProperty(t,null==e||Er.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),Gn("Dom",{data:function(t,e,n){if(null==t)return this.data(Kn(function(t,e){let n;const r=t.length,i=[];for(n=0;n<r;n++)e(t[n])&&i.push(t[n]);return i}(this.node.attributes,t=>0===t.nodeName.indexOf("data-")),t=>t.nodeName.slice(5)));if(t instanceof Array){const e={};for(const n of t)e[n]=this.data(n);return e}if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===n||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),Gn("Dom",{remember:function(t,e){if("object"==typeof arguments[0])for(const e in t)this.remember(e,t[e]);else{if(1===arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0===arguments.length)this._memory={};else for(let t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});class Fr{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof Fr||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b}static random(t="vibrant",e){const{random:n,round:r,sin:i,PI:s}=Math;if("vibrant"===t){const t=24*n()+57,e=38*n()+45,r=360*n();return new Fr(t,e,r,"lch")}if("sine"===t){const t=r(80*i(2*s*(e=null==e?n():e)/.5+.01)+150),o=r(50*i(2*s*e/.5+4.6)+200),a=r(100*i(2*s*e/.5+2.3)+150);return new Fr(t,o,a)}if("pastel"===t){const t=8*n()+86,e=17*n()+9,r=360*n();return new Fr(t,e,r,"lch")}if("dark"===t){const t=10+10*n(),e=50*n()+86,r=360*n();return new Fr(t,e,r,"lch")}if("rgb"===t){const t=255*n(),e=255*n(),r=255*n();return new Fr(t,e,r)}if("lab"===t){const t=100*n(),e=256*n()-128,r=256*n()-128;return new Fr(t,e,r,"lab")}if("grey"===t){const t=255*n();return new Fr(t,t,t)}throw new Error("Unsupported random color mode")}static test(t){return"string"==typeof t&&(Sr.test(t)||Cr.test(t))}cmyk(){const{_a:t,_b:e,_c:n}=this.rgb(),[r,i,s]=[t,e,n].map(t=>t/255),o=Math.min(1-r,1-i,1-s);return 1===o?new Fr(0,0,0,1,"cmyk"):new Fr((1-r-o)/(1-o),(1-i-o)/(1-o),(1-s-o)/(1-o),o,"cmyk")}hsl(){const{_a:t,_b:e,_c:n}=this.rgb(),[r,i,s]=[t,e,n].map(t=>t/255),o=Math.max(r,i,s),a=Math.min(r,i,s),l=(o+a)/2,u=o===a,h=o-a;return new Fr(360*(u?0:o===r?((i-s)/h+(i<s?6:0))/6:o===i?((s-r)/h+2)/6:o===s?((r-i)/h+4)/6:0),100*(u?0:l>.5?h/(2-o-a):h/(o+a)),100*l,"hsl")}init(t=0,e=0,n=0,r=0,i="rgb"){if(t=t||0,this.space)for(const t in this.space)delete this[this.space[t]];if("number"==typeof t)i="string"==typeof r?r:i,r="string"==typeof r?0:r,Object.assign(this,{_a:t,_b:e,_c:n,_d:r,space:i});else if(t instanceof Array)this.space=e||("string"==typeof t[3]?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const n=function(t,e){const n=Ir(t,"rgb")?{_a:t.r,_b:t.g,_c:t.b,_d:0,space:"rgb"}:Ir(t,"xyz")?{_a:t.x,_b:t.y,_c:t.z,_d:0,space:"xyz"}:Ir(t,"hsl")?{_a:t.h,_b:t.s,_c:t.l,_d:0,space:"hsl"}:Ir(t,"lab")?{_a:t.l,_b:t.a,_c:t.b,_d:0,space:"lab"}:Ir(t,"lch")?{_a:t.l,_b:t.c,_c:t.h,_d:0,space:"lch"}:Ir(t,"cmyk")?{_a:t.c,_b:t.m,_c:t.y,_d:t.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=e||n.space,n}(t,e);Object.assign(this,n)}else if("string"==typeof t)if(Cr.test(t)){const e=t.replace(jr,""),[n,r,i]=Mr.exec(e).slice(1,4).map(t=>parseInt(t));Object.assign(this,{_a:n,_b:r,_c:i,_d:0,space:"rgb"})}else{if(!Sr.test(t))throw Error("Unsupported string format, can't construct Color");{const e=t=>parseInt(t,16),[,n,r,i]=kr.exec((s=t,4===s.length?["#",s.substring(1,2),s.substring(1,2),s.substring(2,3),s.substring(2,3),s.substring(3,4),s.substring(3,4)].join(""):s)).map(e);Object.assign(this,{_a:n,_b:r,_c:i,_d:0,space:"rgb"})}}var s;const{_a:o,_b:a,_c:l,_d:u}=this,h="rgb"===this.space?{r:o,g:a,b:l}:"xyz"===this.space?{x:o,y:a,z:l}:"hsl"===this.space?{h:o,s:a,l}:"lab"===this.space?{l:o,a,b:l}:"lch"===this.space?{l:o,c:a,h:l}:"cmyk"===this.space?{c:o,m:a,y:l,k:u}:{};Object.assign(this,h)}lab(){const{x:t,y:e,z:n}=this.xyz();return new Fr(116*e-16,500*(t-e),200*(e-n),"lab")}lch(){const{l:t,a:e,b:n}=this.lab(),r=Math.sqrt(e**2+n**2);let i=180*Math.atan2(n,e)/Math.PI;return i<0&&(i*=-1,i=360-i),new Fr(t,r,i,"lch")}rgb(){if("rgb"===this.space)return this;if("lab"===(t=this.space)||"xyz"===t||"lch"===t){let{x:t,y:e,z:n}=this;if("lab"===this.space||"lch"===this.space){let{l:r,a:i,b:s}=this;if("lch"===this.space){const{c:t,h:e}=this,n=Math.PI/180;i=t*Math.cos(n*e),s=t*Math.sin(n*e)}const o=(r+16)/116,a=i/500+o,l=o-s/200,u=16/116,h=.008856,c=7.787;t=.95047*(a**3>h?a**3:(a-u)/c),e=1*(o**3>h?o**3:(o-u)/c),n=1.08883*(l**3>h?l**3:(l-u)/c)}const r=3.2406*t+-1.5372*e+-.4986*n,i=-.9689*t+1.8758*e+.0415*n,s=.0557*t+-.204*e+1.057*n,o=Math.pow,a=.0031308,l=r>a?1.055*o(r,1/2.4)-.055:12.92*r,u=i>a?1.055*o(i,1/2.4)-.055:12.92*i,h=s>a?1.055*o(s,1/2.4)-.055:12.92*s;return new Fr(255*l,255*u,255*h)}if("hsl"===this.space){let{h:t,s:e,l:n}=this;if(t/=360,e/=100,n/=100,0===e)return n*=255,new Fr(n,n,n);const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=255*zr(i,r,t+1/3),o=255*zr(i,r,t),a=255*zr(i,r,t-1/3);return new Fr(s,o,a)}if("cmyk"===this.space){const{c:t,m:e,y:n,k:r}=this,i=255*(1-Math.min(1,t*(1-r)+r)),s=255*(1-Math.min(1,e*(1-r)+r)),o=255*(1-Math.min(1,n*(1-r)+r));return new Fr(i,s,o)}return this;var t}toArray(){const{_a:t,_b:e,_c:n,_d:r,space:i}=this;return[t,e,n,r,i]}toHex(){const[t,e,n]=this._clamped().map(Rr);return`#${t}${e}${n}`}toRgb(){const[t,e,n]=this._clamped();return`rgb(${t},${e},${n})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:e,_c:n}=this.rgb(),[r,i,s]=[t,e,n].map(t=>t/255),o=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,a=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,l=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,u=(.4124*o+.3576*a+.1805*l)/.95047,h=(.2126*o+.7152*a+.0722*l)/1,c=(.0193*o+.1192*a+.9505*l)/1.08883,f=u>.008856?Math.pow(u,1/3):7.787*u+16/116,d=h>.008856?Math.pow(h,1/3):7.787*h+16/116,p=c>.008856?Math.pow(c,1/3):7.787*c+16/116;return new Fr(f,d,p,"xyz")}_clamped(){const{_a:t,_b:e,_c:n}=this.rgb(),{max:r,min:i,round:s}=Math;return[t,e,n].map(t=>r(0,i(s(t),255)))}}class $r{constructor(...t){this.init(...t)}clone(){return new $r(this)}init(t,e){const n=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==typeof t?{x:t.x,y:t.y}:{x:t,y:e};return this.x=null==n.x?0:n.x,this.y=null==n.y?0:n.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){Yr.isMatrixLike(t)||(t=new Yr(t));const{x:e,y:n}=this;return this.x=t.a*e+t.c*n+t.e,this.y=t.b*e+t.d*n+t.f,this}}function Pr(t,e,n){return Math.abs(e-t)<(n||1e-6)}class Yr{constructor(...t){this.init(...t)}static formatTransforms(t){const e="both"===t.flip||!0===t.flip,n=t.flip&&(e||"x"===t.flip)?-1:1,r=t.flip&&(e||"y"===t.flip)?-1:1,i=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,s=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,o=t.scale&&t.scale.length?t.scale[0]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleX)?t.scaleX*n:n,a=t.scale&&t.scale.length?t.scale[1]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleY)?t.scaleY*r:r,l=t.shear||0,u=t.rotate||t.theta||0,h=new $r(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),c=h.x,f=h.y,d=new $r(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),p=d.x,m=d.y,g=new $r(t.translate||t.tx||t.translateX,t.ty||t.translateY),b=g.x,y=g.y,v=new $r(t.relative||t.rx||t.relativeX,t.ry||t.relativeY);return{scaleX:o,scaleY:a,skewX:i,skewY:s,shear:l,theta:u,rx:v.x,ry:v.y,tx:b,ty:y,ox:c,oy:f,px:p,py:m}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return null!=t.a||null!=t.b||null!=t.c||null!=t.d||null!=t.e||null!=t.f}static matrixMultiply(t,e,n){const r=t.a*e.a+t.c*e.b,i=t.b*e.a+t.d*e.b,s=t.a*e.c+t.c*e.d,o=t.b*e.c+t.d*e.d,a=t.e+t.a*e.e+t.c*e.f,l=t.f+t.b*e.e+t.d*e.f;return n.a=r,n.b=i,n.c=s,n.d=o,n.e=a,n.f=l,n}around(t,e,n){return this.clone().aroundO(t,e,n)}aroundO(t,e,n){const r=t||0,i=e||0;return this.translateO(-r,-i).lmultiplyO(n).translateO(r,i)}clone(){return new Yr(this)}decompose(t=0,e=0){const n=this.a,r=this.b,i=this.c,s=this.d,o=this.e,a=this.f,l=n*s-r*i,u=l>0?1:-1,h=u*Math.sqrt(n*n+r*r),c=Math.atan2(u*r,u*n),f=180/Math.PI*c,d=Math.cos(c),p=Math.sin(c),m=(n*i+r*s)/l,g=i*h/(m*n-r)||s*h/(m*r+n);return{scaleX:h,scaleY:g,shear:m,rotate:f,translateX:o-t+t*d*h+e*(m*d*h-p*g),translateY:a-e+t*p*h+e*(m*p*h+d*g),originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const e=new Yr(t);return Pr(this.a,e.a)&&Pr(this.b,e.b)&&Pr(this.c,e.c)&&Pr(this.d,e.d)&&Pr(this.e,e.e)&&Pr(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return"x"===t?this.scaleO(-1,1,e,0):"y"===t?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){const e=Yr.fromArray([1,0,0,1,0,0]);return t=t instanceof hi?t.matrixify():"string"==typeof t?Yr.fromArray(t.split(Dr).map(parseFloat)):Array.isArray(t)?Yr.fromArray(t):"object"==typeof t&&Yr.isMatrixLike(t)?t:"object"==typeof t?(new Yr).transform(t):6===arguments.length?Yr.fromArray([].slice.call(arguments)):e,this.a=null!=t.a?t.a:e.a,this.b=null!=t.b?t.b:e.b,this.c=null!=t.c?t.c:e.c,this.d=null!=t.d?t.d:e.d,this.e=null!=t.e?t.e:e.e,this.f=null!=t.f?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,e=this.b,n=this.c,r=this.d,i=this.e,s=this.f,o=t*r-e*n;if(!o)throw new Error("Cannot invert "+this);const a=r/o,l=-e/o,u=-n/o,h=t/o,c=-(a*i+u*s),f=-(l*i+h*s);return this.a=a,this.b=l,this.c=u,this.d=h,this.e=c,this.f=f,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const e=t instanceof Yr?t:new Yr(t);return Yr.matrixMultiply(e,this,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const e=t instanceof Yr?t:new Yr(t);return Yr.matrixMultiply(this,e,this)}rotate(t,e,n){return this.clone().rotateO(t,e,n)}rotateO(t,e=0,n=0){t=Xn(t);const r=Math.cos(t),i=Math.sin(t),{a:s,b:o,c:a,d:l,e:u,f:h}=this;return this.a=s*r-o*i,this.b=o*r+s*i,this.c=a*r-l*i,this.d=l*r+a*i,this.e=u*r-h*i+n*i-e*r+e,this.f=h*r+u*i-e*i-n*r+n,this}scale(){return this.clone().scaleO(...arguments)}scaleO(t,e=t,n=0,r=0){3===arguments.length&&(r=n,n=e,e=t);const{a:i,b:s,c:o,d:a,e:l,f:u}=this;return this.a=i*t,this.b=s*e,this.c=o*t,this.d=a*e,this.e=l*t-n*t+n,this.f=u*e-r*e+r,this}shear(t,e,n){return this.clone().shearO(t,e,n)}shearO(t,e=0,n=0){const{a:r,b:i,c:s,d:o,e:a,f:l}=this;return this.a=r+i*t,this.c=s+o*t,this.e=a+l*t-n*t,this}skew(){return this.clone().skewO(...arguments)}skewO(t,e=t,n=0,r=0){3===arguments.length&&(r=n,n=e,e=t),t=Xn(t),e=Xn(e);const i=Math.tan(t),s=Math.tan(e),{a:o,b:a,c:l,d:u,e:h,f:c}=this;return this.a=o+a*i,this.b=a+o*s,this.c=l+u*i,this.d=u+l*s,this.e=h+c*i-r*i,this.f=c+h*s-n*s,this}skewX(t,e,n){return this.skew(t,0,e,n)}skewY(t,e,n){return this.skew(0,t,e,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(Yr.isMatrixLike(t))return new Yr(t).multiplyO(this);const e=Yr.formatTransforms(t),{x:n,y:r}=new $r(e.ox,e.oy).transform(this),i=(new Yr).translateO(e.rx,e.ry).lmultiplyO(this).translateO(-n,-r).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(n,r);if(isFinite(e.px)||isFinite(e.py)){const t=new $r(n,r).transform(i),s=isFinite(e.px)?e.px-t.x:0,o=isFinite(e.py)?e.py-t.y:0;i.translateO(s,o)}return i.translateO(e.tx,e.ty),i}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function Ur(){if(!Ur.nodes){const t=fr().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");const e=t.path().node;Ur.nodes={svg:t,path:e}}if(!Ur.nodes.svg.node.parentNode){const t=ar.document.body||ar.document.documentElement;Ur.nodes.svg.addTo(t)}return Ur.nodes}function Wr(t){return!(t.width||t.height||t.x||t.y)}gr(Yr,"Matrix");class qr{constructor(...t){this.init(...t)}addOffset(){return this.x+=ar.window.pageXOffset,this.y+=ar.window.pageYOffset,new qr(this)}init(t){return t="string"==typeof t?t.split(Dr).map(parseFloat):Array.isArray(t)?t:"object"==typeof t?[null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height]:4===arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return Wr(this)}merge(t){const e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x+t.width)-e,i=Math.max(this.y+this.height,t.y+t.height)-n;return new qr(e,n,r,i)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof Yr||(t=new Yr(t));let e=1/0,n=-1/0,r=1/0,i=-1/0;return[new $r(this.x,this.y),new $r(this.x2,this.y),new $r(this.x,this.y2),new $r(this.x2,this.y2)].forEach(function(s){s=s.transform(t),e=Math.min(e,s.x),n=Math.max(n,s.x),r=Math.min(r,s.y),i=Math.max(i,s.y)}),new qr(e,r,n-e,i-r)}}function Br(t,e,n){let r;try{if(r=e(t.node),Wr(r)&&(i=t.node)!==ar.document&&!(ar.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===ar.document}).call(ar.document.documentElement,i))throw new Error("Element not in the dom")}catch(e){r=n(t)}var i;return r}Gn({viewbox:{viewbox(t,e,n,r){return null==t?new qr(this.attr("viewBox")):this.attr("viewBox",new qr(t,e,n,r))},zoom(t,e){let{width:n,height:r}=this.attr(["width","height"]);if((n||r)&&"string"!=typeof n&&"string"!=typeof r||(n=this.node.clientWidth,r=this.node.clientHeight),!n||!r)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const i=this.viewbox(),s=n/i.width,o=r/i.height,a=Math.min(s,o);if(null==t)return a;let l=a/t;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new $r(n/2/s+i.x,r/2/o+i.y);const u=new qr(i).transform(new Yr({scale:l,origin:e}));return this.viewbox(u)}}}),gr(qr,"Box");class Gr extends Array{constructor(t=[],...e){if(super(t,...e),"number"==typeof t)return this;this.length=0,this.push(...t)}}const Hr=Gr;wr([Gr],{each(t,...e){return"function"==typeof t?this.map((e,n,r)=>t.call(e,e,n,r)):this.map(n=>n[t](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const Zr=["toArray","constructor","each"];function Kr(t,e){return new Hr(Kn((e||ar.document).querySelectorAll(t),function(t){return pr(t)}))}Gr.extend=function(t){t=t.reduce((t,e)=>(Zr.includes(e)||"_"===e[0]||(e in Array.prototype&&(t["$"+e]=Array.prototype[e]),t[e]=function(...t){return this.each(e,...t)}),t),{}),wr([Gr],t)};let Xr=0;const Vr={};function Jr(t){let e=t.getEventHolder();return e===ar.window&&(e=Vr),e.events||(e.events={}),e.events}function Qr(t){return t.getEventTarget()}function ti(t,e,n,r,i){const s=n.bind(r||t),o=fr(t),a=Jr(o),l=Qr(o);e=Array.isArray(e)?e:e.split(Dr),n._svgjsListenerId||(n._svgjsListenerId=++Xr),e.forEach(function(t){const e=t.split(".")[0],r=t.split(".")[1]||"*";a[e]=a[e]||{},a[e][r]=a[e][r]||{},a[e][r][n._svgjsListenerId]=s,l.addEventListener(e,s,i||!1)})}function ei(t,e,n,r){const i=fr(t),s=Jr(i),o=Qr(i);("function"!=typeof n||(n=n._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(Dr)).forEach(function(t){const e=t&&t.split(".")[0],a=t&&t.split(".")[1];let l,u;if(n)s[e]&&s[e][a||"*"]&&(o.removeEventListener(e,s[e][a||"*"][n],r||!1),delete s[e][a||"*"][n]);else if(e&&a){if(s[e]&&s[e][a]){for(u in s[e][a])ei(o,[e,a].join("."),u);delete s[e][a]}}else if(a)for(t in s)for(l in s[t])a===l&&ei(o,[t,a].join("."));else if(e){if(s[e]){for(l in s[e])ei(o,[e,l].join("."));delete s[e]}}else{for(t in s)ei(o,t);!function(t){let e=t.getEventHolder();e===ar.window&&(e=Vr),e.events&&(e.events={})}(i)}})}class ni extends lr{addEventListener(){}dispatch(t,e,n){return function(t,e,n,r){const i=Qr(t);return e instanceof ar.window.Event||(e=new ar.window.CustomEvent(e,{detail:n,cancelable:!0,...r})),i.dispatchEvent(e),e}(this,t,e,n)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const n=e[t.type];for(const e in n)for(const r in n[e])n[e][r](t);return!t.defaultPrevented}fire(t,e,n){return this.dispatch(t,e,n),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e,n){return ei(this,t,e,n),this}on(t,e,n,r){return ti(this,t,e,n,r),this}removeEventListener(){}}function ri(){}gr(ni,"EventTarget");const ii={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class si extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return"number"==typeof t||(this.length=0,this.push(...this.parse(t))),this}parse(t=[]){return t instanceof Array?t:t.trim().split(Dr).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class oi{constructor(...t){this.init(...t)}convert(t){return new oi(this.value,t)}divide(t){return t=new oi(t),new oi(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(_r))&&(this.value=parseFloat(e[1]),"%"===e[5]?this.value/=100:"s"===e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof oi&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new oi(t),new oi(this-t,this.unit||t.unit)}plus(t){return t=new oi(t),new oi(this+t,this.unit||t.unit)}times(t){return t=new oi(t),new oi(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const ai=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),li=[];class ui extends ni{constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return(t=fr(t)).removeNamespace&&this.node instanceof ar.window.SVGElement&&t.removeNamespace(),null==e?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return fr(t).put(this,e)}children(){return new Hr(Kn(this.node.children,function(t){return pr(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,e=!0){this.writeDataToDom();let n=this.node.cloneNode(t);return e&&(n=vr(n)),new this.constructor(n)}each(t,e){const n=this.children();let r,i;for(r=0,i=n.length;r<i;r++)t.apply(n[r],[r,n]),e&&n[r].each(t,e);return this}element(t,e){return this.put(new ui(cr(t),e))}first(){return pr(this.node.firstChild)}get(t){return pr(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,"http://www.w3.org/1999/xhtml")}id(t){return void 0!==t||this.node.id||(this.node.id=yr(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return pr(this.node.lastChild)}matches(t){const e=this.node,n=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return n&&n.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=pr(e.node.parentNode),!t)return e;do{if("string"==typeof t?e.matches(t):e instanceof t)return e}while(e=pr(e.node.parentNode));return e}put(t,e){return t=fr(t),this.add(t,e),t}putIn(t,e){return fr(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=fr(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){const n=10**t,r=this.attr(e);for(const t in r)"number"==typeof r[t]&&(r[t]=Math.round(r[t]*n)/n);return this.attr(r),this}svg(t,e){return this.xml(t,e,ir)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const e=this.parent();if(!e)return this.addTo(t);const n=e.index(this);return e.put(t,n).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,e,n){if("boolean"==typeof t&&(n=e,e=t,t=null),null==t||"function"==typeof t){e=null==e||e,this.writeDataToDom();let n=this;if(null!=t){if(n=pr(n.node.cloneNode(!0)),e){const e=t(n);if(n=e||n,!1===e)return""}n.each(function(){const e=t(this),n=e||this;!1===e?this.remove():e&&this!==n&&this.replace(n)},!0)}return e?n.node.outerHTML:n.node.innerHTML}e=null!=e&&e;const r=cr("wrapper",n),i=ar.document.createDocumentFragment();r.innerHTML=t;for(let t=r.children.length;t--;)i.appendChild(r.firstElementChild);const s=this.parent();return e?this.replace(i)&&s:this.add(i)}}wr(ui,{attr:function(t,e,n){if(null==t){t={},e=this.node.attributes;for(const n of e)t[n.nodeName]=Tr.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return t}if(t instanceof Array)return t.reduce((t,e)=>(t[e]=this.attr(e),t),{});if("object"==typeof t&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?ii[t]:Tr.test(e)?parseFloat(e):e;"number"==typeof(e=li.reduce((e,n)=>n(t,e,this),e))?e=new oi(e):ai.has(t)&&Fr.isColor(e)?e=new Fr(e):e.constructor===Array&&(e=new si(e)),"leading"===t?this.leading&&this.leading(e):"string"==typeof n?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!==t&&"x"!==t||this.rebuild()}return this},find:function(t){return Kr(t,this.node)},findOne:function(t){return pr(this.node.querySelector(t))}}),gr(ui,"Dom");class hi extends ui{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(t.getAttribute("data-svgjs"))??JSON.parse(t.getAttribute("svgjs:data"))??{})}center(t,e){return this.cx(t).cy(e)}cx(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new oi(t).plus(this.x()))}dy(t=0){return this.y(new oi(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){const e="string"==typeof t;e||(t=fr(t));const n=new Hr;let r=this;for(;(r=r.parent())&&r.node!==ar.document&&"#document-fragment"!==r.nodeName&&(n.push(r),e||r.node!==t.node)&&(!e||!r.matches(t));)if(r.node===this.root().node)return null;return n}reference(t){if(!(t=this.attr(t)))return null;const e=(t+"").match(Or);return e?fr(e[1]):null}root(){const t=this.parent(ur[hr]);return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const n=Qn(this,t,e);return this.width(new oi(n.width)).height(new oi(n.height))}width(t){return this.attr("width",t)}writeDataToDom(){return rr(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}wr(hi,{bbox:function(){const t=Br(this,t=>t.getBBox(),t=>{try{const e=t.clone().addTo(Ur().svg).show(),n=e.node.getBBox();return e.remove(),n}catch(e){throw new Error(`Getting bbox of element "${t.node.nodeName}" is not possible: ${e.toString()}`)}});return new qr(t)},rbox:function(t){const e=Br(this,t=>t.getBoundingClientRect(),t=>{throw new Error(`Getting rbox of element "${t.node.nodeName}" is not possible`)}),n=new qr(e);return t?n.transform(t.screenCTM().inverseO()):n.addOffset()},inside:function(t,e){const n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height},point:function(t,e){return new $r(t,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new Yr(this.node.getCTM())},screenCTM:function(){try{if("function"==typeof this.isRoot&&!this.isRoot()){const t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new Yr(e)}return new Yr(this.node.getScreenCTM())}catch(t){return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Yr}}}),gr(hi,"Element");const ci={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"===e?t:t+"-"+e}};["fill","stroke"].forEach(function(t){const e={};let n;e[t]=function(e){if(void 0===e)return this.attr(t);if("string"==typeof e||e instanceof Fr||Fr.isRgb(e)||e instanceof hi)this.attr(t,e);else for(n=ci[t].length-1;n>=0;n--)null!=e[ci[t][n]]&&this.attr(ci.prefix(t,ci[t][n]),e[ci[t][n]]);return this},Gn(["Element","Runner"],e)}),Gn(["Element","Runner"],{matrix:function(t,e,n,r,i,s){return null==t?new Yr(this):this.attr("transform",new Yr(t,e,n,r,i,s))},rotate:function(t,e,n){return this.transform({rotate:t,ox:e,oy:n},!0)},skew:function(t,e,n,r){return 1===arguments.length||3===arguments.length?this.transform({skew:t,ox:e,oy:n},!0):this.transform({skew:[t,e],ox:n,oy:r},!0)},shear:function(t,e,n){return this.transform({shear:t,ox:e,oy:n},!0)},scale:function(t,e,n,r){return 1===arguments.length||3===arguments.length?this.transform({scale:t,ox:e,oy:n},!0):this.transform({scale:[t,e],ox:n,oy:r},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t="both",e="center"){return-1==="xybothtrue".indexOf(t)&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}}),Gn("radius",{radius:function(t,e=t){return"radialGradient"===(this._element||this).type?this.attr("r",new oi(t)):this.rx(t).ry(e)}}),Gn("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new $r(this.node.getPointAtLength(t))}}),Gn(["Element","Runner"],{font:function(t,e){if("object"==typeof t){for(e in t)this.font(e,t[e]);return this}return"leading"===t?this.leading(e):"anchor"===t?this.attr("text-anchor",e):"size"===t||"family"===t||"weight"===t||"stretch"===t||"variant"===t||"style"===t?this.attr("font-"+t,e):this.attr(t,e)}});const fi=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(t,e){return t[e]=function(t){return null===t?this.off(e):this.on(e,t),this},t},{});Gn("Element",fi),Gn("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(Ar).slice(0,-1).map(function(t){const e=t.trim().split("(");return[e[0],e[1].split(Dr).map(function(t){return parseFloat(t)})]}).reverse().reduce(function(t,e){return"matrix"===e[0]?t.lmultiply(Yr.fromArray(e[1])):t[e[0]].apply(t,e[1])},new Yr)},toParent:function(t,e){if(this===t)return this;if(nr(this.node))return this.addTo(t,e);const n=this.screenCTM(),r=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(r.multiply(n)),this},toRoot:function(t){return this.toParent(this.root(),t)},transform:function(t,e){if(null==t||"string"==typeof t){const e=new Yr(this).decompose();return null==t?e:e[t]}Yr.isMatrixLike(t)||(t={...t,origin:tr(t,this)});const n=new Yr(!0===e?this:e||!1).transform(t);return this.attr("transform",n)}});class di extends hi{flatten(){return this.each(function(){if(this instanceof di)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),e=t.index(this)){return e=-1===e?t.children().length:e,this.each(function(n,r){return r[r.length-n-1].toParent(t,e)}),this.remove()}}gr(di,"Container");class pi extends di{constructor(t,e=t){super(dr("defs",t),e)}flatten(){return this}ungroup(){return this}}gr(pi,"Defs");class mi extends hi{}function gi(t){return this.attr("rx",t)}function bi(t){return this.attr("ry",t)}function yi(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())}function vi(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())}function wi(t){return this.attr("cx",t)}function xi(t){return this.attr("cy",t)}function _i(t){return null==t?2*this.rx():this.rx(new oi(t).divide(2))}function ki(t){return null==t?2*this.ry():this.ry(new oi(t).divide(2))}gr(mi,"Shape");class Mi extends mi{constructor(t,e=t){super(dr("ellipse",t),e)}size(t,e){const n=Qn(this,t,e);return this.rx(new oi(n.width).divide(2)).ry(new oi(n.height).divide(2))}}wr(Mi,t),Gn("Container",{ellipse:xr(function(t=0,e=t){return this.put(new Mi).size(t,e).move(0,0)})}),gr(Mi,"Ellipse");class Oi extends ui{constructor(t=ar.document.createDocumentFragment()){super(t)}xml(t,e,n){if("boolean"==typeof t&&(n=e,e=t,t=null),null==t||"function"==typeof t){const t=new ui(cr("wrapper",n));return t.add(this.node.cloneNode(!0)),t.xml(!1,n)}return super.xml(t,!1,n)}}gr(Oi,"Fragment");const Ai=Oi;function ji(t,e){return"radialGradient"===(this._element||this).type?this.attr({fx:new oi(t),fy:new oi(e)}):this.attr({x1:new oi(t),y1:new oi(e)})}function Si(t,e){return"radialGradient"===(this._element||this).type?this.attr({cx:new oi(t),cy:new oi(e)}):this.attr({x2:new oi(t),y2:new oi(e)})}class Ci extends di{constructor(t,e){super(dr(t+"Gradient","string"==typeof t?null:t),e)}attr(t,e,n){return"transform"===t&&(t="gradientTransform"),super.attr(t,e,n)}bbox(){return new qr}targets(){return Kr("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}wr(Ci,e),Gn({Container:{gradient(...t){return this.defs().gradient(...t)}},Defs:{gradient:xr(function(t,e){return this.put(new Ci(t)).update(e)})}}),gr(Ci,"Gradient");class Ei extends di{constructor(t,e=t){super(dr("pattern",t),e)}attr(t,e,n){return"transform"===t&&(t="patternTransform"),super.attr(t,e,n)}bbox(){return new qr}targets(){return Kr("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}Gn({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:xr(function(t,e,n){return this.put(new Ei).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})})}}),gr(Ei,"Pattern");class Ti extends mi{constructor(t,e=t){super(dr("image",t),e)}load(t,e){if(!t)return this;const n=new ar.window.Image;return ti(n,"load",function(t){const r=this.parent(Ei);0===this.width()&&0===this.height()&&this.size(n.width,n.height),r instanceof Ei&&0===r.width()&&0===r.height()&&r.size(this.width(),this.height()),"function"==typeof e&&e.call(this,t)},this),ti(n,"load error",function(){ei(n)}),this.attr("href",n.src=t,or)}}var Ni;Ni=function(t,e,n){return"fill"!==t&&"stroke"!==t||Nr.test(e)&&(e=n.root().defs().image(e)),e instanceof Ti&&(e=n.root().defs().pattern(0,0,t=>{t.add(e)})),e},li.push(Ni),Gn({Container:{image:xr(function(t,e){return this.put(new Ti).size(0,0).load(t,e)})}}),gr(Ti,"Image");class Di extends si{bbox(){let t=-1/0,e=-1/0,n=1/0,r=1/0;return this.forEach(function(i){t=Math.max(i[0],t),e=Math.max(i[1],e),n=Math.min(i[0],n),r=Math.min(i[1],r)}),new qr(n,r,t-n,e-r)}move(t,e){const n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(let n=this.length-1;n>=0;n--)this[n]=[this[n][0]+t,this[n][1]+e];return this}parse(t=[0,0]){const e=[];(t=t instanceof Array?Array.prototype.concat.apply([],t):t.trim().split(Dr).map(parseFloat)).length%2!=0&&t.pop();for(let n=0,r=t.length;n<r;n+=2)e.push([t[n],t[n+1]]);return e}size(t,e){let n;const r=this.bbox();for(n=this.length-1;n>=0;n--)r.width&&(this[n][0]=(this[n][0]-r.x)*t/r.width+r.x),r.height&&(this[n][1]=(this[n][1]-r.y)*e/r.height+r.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let e=0,n=this.length;e<n;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){Yr.isMatrixLike(t)||(t=new Yr(t));for(let e=this.length;e--;){const[n,r]=this[e];this[e][0]=t.a*n+t.c*r+t.e,this[e][1]=t.b*n+t.d*r+t.f}return this}}const Li=Di;function Ri(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)}function Ii(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)}function zi(t){const e=this.bbox();return null==t?e.width:this.size(t,e.height)}function Fi(t){const e=this.bbox();return null==t?e.height:this.size(e.width,t)}class $i extends mi{constructor(t,e=t){super(dr("line",t),e)}array(){return new Di([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,n,r){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:n,y2:r}:new Di(t).toLine(),this.attr(t))}size(t,e){const n=Qn(this,t,e);return this.attr(this.array().size(n.width,n.height).toLine())}}wr($i,i),Gn({Container:{line:xr(function(...t){return $i.prototype.plot.apply(this.put(new $i),null!=t[0]?t:[0,0,0,0])})}}),gr($i,"Line");class Pi extends di{constructor(t,e=t){super(dr("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}function Yi(t,e){return function(n){return null==n?this[t]:(this[t]=n,e&&e.call(this),this)}}Gn({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:xr(function(t,e,n){return this.put(new Pi).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(n)})},marker:{marker(t,e,n,r){let i=["marker"];return"all"!==t&&i.push(t),i=i.join("-"),t=arguments[1]instanceof Pi?arguments[1]:this.defs().marker(e,n,r),this.attr(i,t)}}}),gr(Pi,"Marker");const Ui={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,n,r){return function(i){return i<0?t>0?e/t*i:n>0?r/n*i:0:i>1?n<1?(1-r)/(1-n)*i+(r-n)/(1-n):t<1?(1-e)/(1-t)*i+(e-t)/(1-t):1:3*i*(1-i)**2*e+3*i**2*(1-i)*r+i**3}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let n=t;return"none"===e?--n:"both"===e&&++n,(r,i=!1)=>{let s=Math.floor(r*t);const o=r*s%1==0;return"start"!==e&&"both"!==e||++s,i&&o&&--s,r>=0&&s<0&&(s=0),r<=1&&s>n&&(s=n),s/n}}};class Wi{done(){return!1}}class qi extends Wi{constructor(t=">"){super(),this.ease=Ui[t]||t}step(t,e,n){return"number"!=typeof t?n<1?t:e:t+(e-t)*this.ease(n)}}class Bi extends Wi{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,e,n,r){return this.stepper(t,e,n,r)}}function Gi(){const t=(this._duration||500)/1e3,e=this._overshoot||0,n=Math.PI,r=Math.log(e/100+1e-10),i=-r/Math.sqrt(n*n+r*r),s=3.9/(i*t);this.d=2*i*s,this.k=s*s}wr(class extends Bi{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,n,r){if("string"==typeof t)return t;if(r.done=n===1/0,n===1/0)return e;if(0===n)return t;n>100&&(n=16),n/=1e3;const i=r.velocity||0,s=-this.d*i-this.k*(t-e),o=t+i*n+s*n*n/2;return r.velocity=i+s*n,r.done=Math.abs(e-o)+Math.abs(i)<.002,r.done?e:o}},{duration:Yi("_duration",Gi),overshoot:Yi("_overshoot",Gi)}),wr(class extends Bi{constructor(t=.1,e=.01,n=0,r=1e3){super(),this.p(t).i(e).d(n).windup(r)}step(t,e,n,r){if("string"==typeof t)return t;if(r.done=n===1/0,n===1/0)return e;if(0===n)return t;const i=e-t;let s=(r.integral||0)+i*n;const o=(i-(r.error||0))/n,a=this._windup;return!1!==a&&(s=Math.max(-a,Math.min(s,a))),r.error=i,r.integral=s,r.done=Math.abs(i)<.001,r.done?e:t+(this.P*i+this.I*s+this.D*o)}},{windup:Yi("_windup"),p:Yi("P"),i:Yi("I"),d:Yi("D")});const Hi={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Zi={M:function(t,e,n){return e.x=n.x=t[0],e.y=n.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,n){return e.x=n.x,e.y=n.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},Ki="mlhvqtcsaz".split("");for(let t=0,e=Ki.length;t<e;++t)Zi[Ki[t]]=function(t){return function(e,n,r){if("H"===t)e[0]=e[0]+n.x;else if("V"===t)e[0]=e[0]+n.y;else if("A"===t)e[5]=e[5]+n.x,e[6]=e[6]+n.y;else for(let t=0,r=e.length;t<r;++t)e[t]=e[t]+(t%2?n.y:n.x);return Zi[t](e,n,r)}}(Ki[t].toUpperCase());function Xi(t){return t.segment.length&&t.segment.length-1===Hi[t.segment[0].toUpperCase()]}function Vi(t,e){t.inNumber&&Ji(t,!1);const n=Lr.test(e);if(n)t.segment=[e];else{const e=t.lastCommand,n=e.toLowerCase(),r=e===n;t.segment=["m"===n?r?"l":"L":e]}return t.inSegment=!0,t.lastCommand=t.segment[0],n}function Ji(t,e){if(!t.inNumber)throw new Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,Xi(t)&&Qi(t)}function Qi(t){t.inSegment=!1,t.absolute&&(t.segment=function(t){const e=t.segment[0];return Zi[e](t.segment.slice(1),t.p,t.p0)}(t)),t.segments.push(t.segment)}function ts(t){if(!t.segment.length)return!1;const e="A"===t.segment[0].toUpperCase(),n=t.segment.length;return e&&(4===n||5===n)}function es(t){return"E"===t.lastToken.toUpperCase()}const ns=new Set([" ",",","\t","\n","\r","\f"]);class rs extends si{bbox(){return Ur().path.setAttribute("d",this.toString()),new qr(Ur.nodes.path.getBBox())}move(t,e){const n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(let n,r=this.length-1;r>=0;r--)n=this[r][0],"M"===n||"L"===n||"T"===n?(this[r][1]+=t,this[r][2]+=e):"H"===n?this[r][1]+=t:"V"===n?this[r][1]+=e:"C"===n||"S"===n||"Q"===n?(this[r][1]+=t,this[r][2]+=e,this[r][3]+=t,this[r][4]+=e,"C"===n&&(this[r][5]+=t,this[r][6]+=e)):"A"===n&&(this[r][6]+=t,this[r][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),function(t,e=!0){let n=0,r="";const i={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:e,p0:new $r,p:new $r};for(;i.lastToken=r,r=t.charAt(n++);)if(i.inSegment||!Vi(i,r))if("."!==r)if(isNaN(parseInt(r)))if(ns.has(r))i.inNumber&&Ji(i,!1);else if("-"!==r&&"+"!==r)if("E"!==r.toUpperCase()){if(Lr.test(r)){if(i.inNumber)Ji(i,!1);else{if(!Xi(i))throw new Error("parser Error");Qi(i)}--n}}else i.number+=r,i.hasExponent=!0;else{if(i.inNumber&&!es(i)){Ji(i,!1),--n;continue}i.number+=r,i.inNumber=!0}else{if("0"===i.number||ts(i)){i.inNumber=!0,i.number=r,Ji(i,!0);continue}i.inNumber=!0,i.number+=r}else{if(i.pointSeen||i.hasExponent){Ji(i,!1),--n;continue}i.inNumber=!0,i.pointSeen=!0,i.number+=r}return i.inNumber&&Ji(i,!1),i.inSegment&&Xi(i)&&Qi(i),i.segments}(t)}size(t,e){const n=this.bbox();let r,i;for(n.width=0===n.width?1:n.width,n.height=0===n.height?1:n.height,r=this.length-1;r>=0;r--)i=this[r][0],"M"===i||"L"===i||"T"===i?(this[r][1]=(this[r][1]-n.x)*t/n.width+n.x,this[r][2]=(this[r][2]-n.y)*e/n.height+n.y):"H"===i?this[r][1]=(this[r][1]-n.x)*t/n.width+n.x:"V"===i?this[r][1]=(this[r][1]-n.y)*e/n.height+n.y:"C"===i||"S"===i||"Q"===i?(this[r][1]=(this[r][1]-n.x)*t/n.width+n.x,this[r][2]=(this[r][2]-n.y)*e/n.height+n.y,this[r][3]=(this[r][3]-n.x)*t/n.width+n.x,this[r][4]=(this[r][4]-n.y)*e/n.height+n.y,"C"===i&&(this[r][5]=(this[r][5]-n.x)*t/n.width+n.x,this[r][6]=(this[r][6]-n.y)*e/n.height+n.y)):"A"===i&&(this[r][1]=this[r][1]*t/n.width,this[r][2]=this[r][2]*e/n.height,this[r][6]=(this[r][6]-n.x)*t/n.width+n.x,this[r][7]=(this[r][7]-n.y)*e/n.height+n.y);return this}toString(){return function(t){let e="";for(let n=0,r=t.length;n<r;n++)e+=t[n][0],null!=t[n][1]&&(e+=t[n][1],null!=t[n][2]&&(e+=" ",e+=t[n][2],null!=t[n][3]&&(e+=" ",e+=t[n][3],e+=" ",e+=t[n][4],null!=t[n][5]&&(e+=" ",e+=t[n][5],e+=" ",e+=t[n][6],null!=t[n][7]&&(e+=" ",e+=t[n][7])))));return e+" "}(this)}}const is=t=>{const e=typeof t;return"number"===e?oi:"string"===e?Fr.isColor(t)?Fr:Dr.test(t)?Lr.test(t)?rs:si:_r.test(t)?oi:os:hs.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?si:"object"===e?us:os};class ss{constructor(t){this._stepper=t||new qi("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){const t=this._context.map(this._stepper.done).reduce(function(t,e){return t&&e},!0);return t}from(t){return null==t?this._from:(this._from=this._set(t),this)}stepper(t){return null==t?this._stepper:(this._stepper=t,this)}to(t){return null==t?this._to:(this._to=this._set(t),this)}type(t){return null==t?this._type:(this._type=t,this)}_set(t){this._type||this.type(is(t));let e=new this._type(t);return this._type===Fr&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===us&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map(function(t){return t.done=!0,t}),e}}class os{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class as{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,as.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}as.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const ls=(t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0;class us{constructor(...t){this.init(...t)}align(t){const e=this.values;for(let n=0,r=e.length;n<r;++n){if(e[n+1]===t[n+1]){if(e[n+1]===Fr&&t[n+7]!==e[n+7]){const e=t[n+7],r=new Fr(this.values.splice(n+3,5))[e]().toArray();this.values.splice(n+3,0,...r)}n+=e[n+2]+2;continue}if(!t[n+1])return this;const r=(new t[n+1]).toArray(),i=e[n+2]+3;e.splice(n,i,t[n],t[n+1],t[n+2],...r),n+=e[n+2]+2}return this}init(t){if(this.values=[],Array.isArray(t))return void(this.values=t.slice());t=t||{};const e=[];for(const n in t){const r=is(t[n]),i=new r(t[n]).toArray();e.push([n,r,i.length,...i])}return e.sort(ls),this.values=e.reduce((t,e)=>t.concat(e),[]),this}toArray(){return this.values}valueOf(){const t={},e=this.values;for(;e.length;){const n=e.shift(),r=e.shift(),i=e.shift(),s=e.splice(0,i);t[n]=new r(s)}return t}}const hs=[os,as,us];class cs extends mi{constructor(t,e=t){super(dr("path",t),e)}array(){return this._array||(this._array=new rs(this.attr("d")))}clear(){return delete this._array,this}height(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new rs(t))}size(t,e){const n=Qn(this,t,e);return this.attr("d",this.array().size(n.width,n.height))}width(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)}x(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)}y(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)}}function fs(){return this._array||(this._array=new Di(this.attr("points")))}function ds(){return delete this._array,this}function ps(t,e){return this.attr("points",this.array().move(t,e))}function ms(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new Di(t))}function gs(t,e){const n=Qn(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}cs.prototype.MorphArray=rs,Gn({Container:{path:xr(function(t){return this.put(new cs).plot(t||new rs)})}}),gr(cs,"Path");class bs extends mi{constructor(t,e=t){super(dr("polygon",t),e)}}Gn({Container:{polygon:xr(function(t){return this.put(new bs).plot(t||new Di)})}}),wr(bs,i),wr(bs,s),gr(bs,"Polygon");class ys extends mi{constructor(t,e=t){super(dr("polyline",t),e)}}Gn({Container:{polyline:xr(function(t){return this.put(new ys).plot(t||new Di)})}}),wr(ys,i),wr(ys,s),gr(ys,"Polyline");class vs extends mi{constructor(t,e=t){super(dr("rect",t),e)}}wr(vs,{rx:gi,ry:bi}),Gn({Container:{rect:xr(function(t,e){return this.put(new vs).size(t,e)})}}),gr(vs,"Rect");class ws{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const e=void 0!==t.next?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const xs={nextDraw:null,frames:new ws,timeouts:new ws,immediates:new ws,timer:()=>ar.window.performance||ar.window.Date,transforms:[],frame(t){const e=xs.frames.push({run:t});return null===xs.nextDraw&&(xs.nextDraw=ar.window.requestAnimationFrame(xs._draw)),e},timeout(t,e){e=e||0;const n=xs.timer().now()+e,r=xs.timeouts.push({run:t,time:n});return null===xs.nextDraw&&(xs.nextDraw=ar.window.requestAnimationFrame(xs._draw)),r},immediate(t){const e=xs.immediates.push(t);return null===xs.nextDraw&&(xs.nextDraw=ar.window.requestAnimationFrame(xs._draw)),e},cancelFrame(t){null!=t&&xs.frames.remove(t)},clearTimeout(t){null!=t&&xs.timeouts.remove(t)},cancelImmediate(t){null!=t&&xs.immediates.remove(t)},_draw(t){let e=null;const n=xs.timeouts.last();for(;(e=xs.timeouts.shift())&&(t>=e.time?e.run():xs.timeouts.push(e),e!==n););let r=null;const i=xs.frames.last();for(;r!==i&&(r=xs.frames.shift());)r.run(t);let s=null;for(;s=xs.immediates.shift();)s();xs.nextDraw=xs.timeouts.first()||xs.frames.first()?ar.window.requestAnimationFrame(xs._draw):null}},_s=xs,ks=function(t){const e=t.start,n=t.runner.duration();return{start:e,duration:n,end:e+n,runner:t.runner}},Ms=function(){const t=ar.window;return(t.performance||t.Date).now()};class Os extends ni{constructor(t=Ms){super(),this._timeSource=t,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){const t=this._runners.map(t=>t.start+t.runner.duration());return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return null==t?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const e=this.speed();if(null==t)return this.speed(-e);const n=Math.abs(e);return this.speed(t?-n:n)}schedule(t,e,n){if(null==t)return this._runners.map(ks);let r=0;const i=this.getEndTime();if(e=e||0,null==n||"last"===n||"after"===n)r=i;else if("absolute"===n||"start"===n)r=e,e=0;else if("now"===n)r=this._time;else if("relative"===n){const n=this.getRunnerInfoById(t.id);n&&(r=n.start+e,e=0)}else{if("with-last"!==n)throw new Error('Invalid value for the "when" parameter');{const t=this.getLastRunnerInfo();r=t?t.start:this._time}}t.unschedule(),t.timeline(this);const s=t.persist(),o={persist:null===s?this._persist:s,start:r+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(o),this._runners.sort((t,e)=>t.start-e.start),this._runnerIds=this._runners.map(t=>t.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return null==t?this._timeSource:(this._timeSource=t,this)}speed(t){return null==t?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return null==t?this._time:(this._time=t,this._continue(!0))}unschedule(t){const e=this._runnerIds.indexOf(t.id);return e<0||(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return _s.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():(this._paused||(this._nextFrame=_s.frame(this._step)),this)}_stepFn(t=!1){const e=this._timeSource();let n=e-this._lastSourceTime;t&&(n=0);const r=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=r,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let t=this._runners.length;t--;){const e=this._runners[t],n=e.runner;this._time-e.start<=0&&n.reset()}let i=!1;for(let t=0,e=this._runners.length;t<e;t++){const n=this._runners[t],s=n.runner;let o=r;const a=this._time-n.start;a<=0?i=!0:(a<o&&(o=a),s.active()&&(s.step(o).done?!0!==n.persist&&s.duration()-s.time()+this._time+n.persist<this._time&&(s.unschedule(),--t,--e):i=!0))}return i&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}Gn({Element:{timeline:function(t){return null==t?(this._timeline=this._timeline||new Os,this._timeline):(this._timeline=t,this)}}});class As extends ni{constructor(t){super(),this.id=As.id++,t="function"==typeof(t=null==t?400:t)?new Bi(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration="number"==typeof t&&t,this._isDeclarative=t instanceof Bi,this._stepper=this._isDeclarative?t:new qi,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Yr,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(t,e,n){let r=1,i=!1,s=0;return e=e??0,n=n||"last","object"!=typeof(t=t??400)||t instanceof Wi||(e=t.delay??e,n=t.when??n,i=t.swing||i,r=t.times??r,s=t.wait??s,t=t.duration??400),{duration:t,delay:e,swing:i,times:r,wait:s,when:n}}active(t){return null==t?this.enabled:(this.enabled=t,this)}addTransform(t){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,n){const r=As.sanitise(t,e,n),i=new As(r.duration);return this._timeline&&i.timeline(this._timeline),this._element&&i.element(this._element),i.loop(r).schedule(r.delay,r.when)}clearTransform(){return this.transforms=new Yr,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(t=>!t.isTransform))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new qi(t),this}element(t){return null==t?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,n){return"object"==typeof t&&(e=t.swing,n=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=n||0,!0===this._times&&(this._times=1/0),this}loops(t){const e=this._duration+this._wait;if(null==t){const t=Math.floor(this._time/e),n=(this._time-t*e)/this._duration;return Math.min(t+n,this._times)}const n=t%1,r=e*Math.floor(t)+this._duration*n;return this.time(r)}persist(t){return null==t?this._persist:(this._persist=t,this)}position(t){const e=this._time,n=this._duration,r=this._wait,i=this._times,s=this._swing,o=this._reverse;let a;if(null==t){const t=function(t){const e=s*Math.floor(t%(2*(r+n))/(r+n)),i=e&&!o||!e&&o,a=Math.pow(-1,i)*(t%(r+n))/n+i;return Math.max(Math.min(a,1),0)},l=i*(r+n)-r;return a=e<=0?Math.round(t(1e-5)):e<l?t(e):Math.round(t(l-1e-5)),a}const l=Math.floor(this.loops()),u=s&&l%2==0;return a=l+(u&&!o||o&&u?t:1-t),this.loops(a)}progress(t){return null==t?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,n,r){return this._queue.push({initialiser:t||ri,runner:e||ri,retarget:n,isTransform:r,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(t){return this._reverse=null==t?!this._reverse:t,this}schedule(t,e,n){if(t instanceof Os||(n=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,n),this}step(t){if(!this.enabled)return this;t=null==t?16:t,this._time+=t;const e=this.position(),n=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;const r=this.duration(),i=this._lastTime<=0&&this._time>0,s=this._lastTime<r&&this._time>=r;this._lastTime=this._time,i&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!s&&this._time>=r,this._reseted=!1;let a=!1;return(n||o)&&(this._initialise(n),this.transforms=new Yr,a=this._run(o?t:e),this.fire("step",this)),this.done=this.done||a&&o,s&&this.fire("finished",this),this}time(t){if(null==t)return this._time;const e=t-this._time;return this.step(e),this}timeline(t){return void 0===t?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(t||this._isDeclarative)for(let e=0,n=this._queue.length;e<n;++e){const n=this._queue[e],r=this._isDeclarative||!n.initialised&&t;t=!n.finished,r&&t&&(n.initialiser.call(this),n.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){const t=this.timeline();t&&t.play()}}_run(t){let e=!0;for(let n=0,r=this._queue.length;n<r;++n){const r=this._queue[n],i=r.runner.call(this,t);r.finished=r.finished||!0===i,e=e&&r.finished}return e}_tryRetarget(t,e,n){if(this._history[t]){if(!this._history[t].caller.initialised){const e=this._queue.indexOf(this._history[t].caller);return this._queue.splice(e,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,n):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;const r=this.timeline();return r&&r.play(),!0}return!1}}As.id=0;class js{constructor(t=new Yr,e=-1,n=!0){this.transforms=t,this.id=e,this.done=n}clearTransformsFromQueue(){}}wr([As,js],{mergeWith(t){return new js(t.transforms.lmultiply(this.transforms),t.id)}});const Ss=(t,e)=>t.lmultiplyO(e),Cs=t=>t.transforms;function Es(){const t=this._transformationRunners.runners.map(Cs).reduce(Ss,new Yr);this.transform(t),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}class Ts{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new js).forEach(t=>t.clearTransformsFromQueue()),this}edit(t,e){const n=this.ids.indexOf(t+1);return this.ids.splice(n,1,t+1),this.runners.splice(n,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){const n=this.runners[e];if(!(t&&n.done&&t.done)||n._timeline&&n._timeline._runnerIds.includes(n.id)||t._timeline&&t._timeline._runnerIds.includes(t.id))t=n;else{this.remove(n.id);const r=n.mergeWith(t);this.edit(t.id,r),t=r,--e}}return this}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}}Gn({Element:{animate(t,e,n){const r=As.sanitise(t,e,n),i=this.timeline();return new As(r.duration).loop(r).element(this).timeline(i.play()).schedule(r.delay,r.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter(e=>e.id<=t.id).map(Cs).reduce(Ss,new Yr)},_addRunner(t){this._transformationRunners.add(t),_s.cancelImmediate(this._frameId),this._frameId=_s.immediate(Es.bind(this))},_prepareRunner(){null==this._frameId&&(this._transformationRunners=(new Ts).add(new js(new Yr(this))))}}}),wr(As,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,n){if("string"==typeof e)return this.styleAttr(t,{[e]:n});let r=e;if(this._tryRetarget(t,r))return this;let i=new ss(this._stepper).to(r),s=Object.keys(r);return this.queue(function(){i=i.from(this.element()[t](s))},function(e){return this.element()[t](i.at(e).valueOf()),i.done()},function(e){const n=Object.keys(e),o=(a=s,n.filter(t=>!a.includes(t)));var a;if(o.length){const e=this.element()[t](o),n=new us(i.from()).valueOf();Object.assign(n,e),i.from(n)}const l=new us(i.to()).valueOf();Object.assign(l,e),i.to(l),s=n,r=e}),this._rememberMorpher(t,i),this},zoom(t,e){if(this._tryRetarget("zoom",t,e))return this;let n=new ss(this._stepper).to(new oi(t));return this.queue(function(){n=n.from(this.element().zoom())},function(t){return this.element().zoom(n.at(t),e),n.done()},function(t,r){e=r,n.to(t)}),this._rememberMorpher("zoom",n),this},transform(t,e,n){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;const r=Yr.isMatrixLike(t);n=null!=t.affine?t.affine:null!=n?n:!r;const i=new ss(this._stepper).type(n?as:Yr);let s,o,a,l,u;return this.queue(function(){o=o||this.element(),s=s||tr(t,o),u=new Yr(e?void 0:o),o._addRunner(this),e||o._clearTransformRunnersBefore(this)},function(h){e||this.clearTransform();const{x:c,y:f}=new $r(s).transform(o._currentTransform(this));let d=new Yr({...t,origin:[c,f]}),p=this._isDeclarative&&a?a:u;if(n){d=d.decompose(c,f),p=p.decompose(c,f);const t=d.rotate,e=p.rotate,n=[t-360,t,t+360],r=n.map(t=>Math.abs(t-e)),i=Math.min(...r),s=r.indexOf(i);d.rotate=n[s]}e&&(r||(d.rotate=t.rotate||0),this._isDeclarative&&l&&(p.rotate=l)),i.from(p),i.to(d);const m=i.at(h);return l=m.rotate,a=new Yr(m),this.addTransform(a),o._addRunner(this),i.done()},function(e){(e.origin||"center").toString()!==(t.origin||"center").toString()&&(s=tr(e,o)),t={...e,origin:s}},!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(t){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},ax(t){return this._queueNumber("ax",t)},ay(t){return this._queueNumber("ay",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new oi(e),this._tryRetarget(t,e))return this;const n=new ss(this._stepper).to(e);let r=null;return this.queue(function(){r=this.element()[t](),n.from(r),n.to(r+e)},function(e){return this.element()[t](n.at(e)),n.done()},function(t){n.to(r+new oi(t))}),this._rememberMorpher(t,n),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;const n=new ss(this._stepper).to(e);return this.queue(function(){n.from(this.element()[t]())},function(e){return this.element()[t](n.at(e)),n.done()}),this._rememberMorpher(t,n),this},_queueNumber(t,e){return this._queueObject(t,new oi(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},amove(t,e){return this.ax(t).ay(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){let n;return t&&e||(n=this._element.bbox()),t||(t=n.width/n.height*e),e||(e=n.height/n.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,n,r){if(4===arguments.length)return this.plot([t,e,n,r]);if(this._tryRetarget("plot",t))return this;const i=new ss(this._stepper).type(this._element.MorphArray).to(t);return this.queue(function(){i.from(this._element.array())},function(t){return this._element.plot(i.at(t)),i.done()}),this._rememberMorpher("plot",i),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,n,r){return this._queueObject("viewbox",new qr(t,e,n,r))},update(t){return"object"!=typeof t?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset),this)}}),wr(As,{rx:gi,ry:bi,from:ji,to:Si}),gr(As,"Runner");class Ns extends di{constructor(t,e=t){super(dr("svg",t),e),this.namespace()}defs(){return this.isRoot()?pr(this.node.querySelector("defs"))||this.put(new pi):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof ar.window.SVGElement)&&"#document-fragment"!==this.node.parentNode.nodeName}namespace(){return this.isRoot()?this.attr({xmlns:ir,version:"1.1"}).attr("xmlns:xlink",or,sr):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,sr).attr("xmlns:svgjs",null,sr)}root(){return this.isRoot()?this:super.root()}}Gn({Container:{nested:xr(function(){return this.put(new Ns)})}}),gr(Ns,"Svg",!0);class Ds extends di{constructor(t,e=t){super(dr("symbol",t),e)}}function Ls(t){return!1===this._build&&this.clear(),this.node.appendChild(ar.document.createTextNode(t)),this}function Rs(){return this.node.getComputedTextLength()}function Is(t,e=this.bbox()){return null==t?e.x:this.attr("x",this.attr("x")+t-e.x)}function zs(t,e=this.bbox()){return null==t?e.y:this.attr("y",this.attr("y")+t-e.y)}function Fs(t,e,n=this.bbox()){return this.x(t,n).y(e,n)}function $s(t,e=this.bbox()){return null==t?e.cx:this.attr("x",this.attr("x")+t-e.cx)}function Ps(t,e=this.bbox()){return null==t?e.cy:this.attr("y",this.attr("y")+t-e.cy)}function Ys(t,e,n=this.bbox()){return this.cx(t,n).cy(e,n)}function Us(t){return this.attr("x",t)}function Ws(t){return this.attr("y",t)}function qs(t,e){return this.ax(t).ay(e)}function Bs(t){return this._build=!!t,this}Gn({Container:{symbol:xr(function(){return this.put(new Ds)})}}),gr(Ds,"Symbol");class Gs extends mi{constructor(t,e=t){super(dr("text",t),e),this.dom.leading=this.dom.leading??new oi(1.3),this._rebuild=!0,this._build=!1}leading(t){return null==t?this.dom.leading:(this.dom.leading=new oi(t),this.rebuild())}rebuild(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){const t=this;let e=0;const n=this.dom.leading;this.each(function(r){if(nr(this.node))return;const i=ar.window.getComputedStyle(this.node).getPropertyValue("font-size"),s=n*new oi(i);this.dom.newLined&&(this.attr("x",t.attr("x")),"\n"===this.text()?e+=s:(this.attr("dy",r?s+e:0),e=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new oi(t.leading||1.3),this}writeDataToDom(){return rr(this,this.dom,{leading:1.3}),this}text(t){if(void 0===t){const e=this.node.childNodes;let n=0;t="";for(let r=0,i=e.length;r<i;++r)"textPath"===e[r].nodeName||nr(e[r])?0===r&&(n=r+1):(r!==n&&3!==e[r].nodeType&&!0===pr(e[r]).dom.newLined&&(t+="\n"),t+=e[r].textContent);return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else for(let e=0,n=(t=(t+"").split("\n")).length;e<n;e++)this.newLine(t[e]);return this.build(!1).rebuild()}}wr(Gs,o),Gn({Container:{text:xr(function(t=""){return this.put(new Gs).text(t)}),plain:xr(function(t=""){return this.put(new Gs).plain(t)})}}),gr(Gs,"Text");class Hs extends mi{constructor(t,e=t){super(dr("tspan",t),e),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof Gs))return this;const e=t.index(this),n=ar.window.getComputedStyle(this.node).getPropertyValue("font-size"),r=t.dom.leading*new oi(n);return this.dy(e?r:0).attr("x",t.x())}text(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}wr(Hs,o),Gn({Tspan:{tspan:xr(function(t=""){const e=new Hs;return this._build||this.clear(),this.put(e).text(t)})},Text:{newLine:function(t=""){return this.tspan(t).newLine()}}}),gr(Hs,"Tspan");class Zs extends mi{constructor(t,e=t){super(dr("circle",t),e)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new oi(t).divide(2))}}wr(Zs,{x:yi,y:vi,cx:wi,cy:xi,width:_i,height:ki}),Gn({Container:{circle:xr(function(t=0){return this.put(new Zs).size(t).move(0,0)})}}),gr(Zs,"Circle");class Ks extends di{constructor(t,e=t){super(dr("clipPath",t),e)}remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return Kr("svg [clip-path*="+this.id()+"]")}}Gn({Container:{clip:xr(function(){return this.defs().put(new Ks)})},Element:{clipper(){return this.reference("clip-path")},clipWith(t){const e=t instanceof Ks?t:this.parent().clip().add(t);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),gr(Ks,"ClipPath");class Xs extends hi{constructor(t,e=t){super(dr("foreignObject",t),e)}}function Vs(t,e){return this.children().forEach(n=>{let r;try{r=n.node instanceof ar.window.SVGSVGElement?new qr(n.attr(["x","y","width","height"])):n.bbox()}catch(t){return}const i=new Yr(n),s=i.translate(t,e).transform(i.inverse()),o=new $r(r.x,r.y).transform(s);n.move(o.x,o.y)}),this}function Js(t){return this.dmove(t,0)}function Qs(t){return this.dmove(0,t)}function to(t,e=this.bbox()){return null==t?e.height:this.size(e.width,t,e)}function eo(t=0,e=0,n=this.bbox()){const r=t-n.x,i=e-n.y;return this.dmove(r,i)}function no(t,e,n=this.bbox()){const r=Qn(this,t,e,n),i=r.width/n.width,s=r.height/n.height;return this.children().forEach(t=>{const e=new $r(n).transform(new Yr(t).inverse());t.scale(i,s,e.x,e.y)}),this}function ro(t,e=this.bbox()){return null==t?e.width:this.size(t,e.height,e)}function io(t,e=this.bbox()){return null==t?e.x:this.move(t,e.y,e)}function so(t,e=this.bbox()){return null==t?e.y:this.move(e.x,t,e)}Gn({Container:{foreignObject:xr(function(t,e){return this.put(new Xs).size(t,e)})}}),gr(Xs,"ForeignObject");class oo extends di{constructor(t,e=t){super(dr("g",t),e)}}wr(oo,a),Gn({Container:{group:xr(function(){return this.put(new oo)})}}),gr(oo,"G");class ao extends di{constructor(t,e=t){super(dr("a",t),e)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,or)}}wr(ao,a),Gn({Container:{link:xr(function(t){return this.put(new ao).to(t)})},Element:{unlink(){const t=this.linker();if(!t)return this;const e=t.parent();if(!e)return this.remove();const n=e.index(t);return e.add(this,n),t.remove(),this},linkTo(t){let e=this.linker();return e||(e=new ao,this.wrap(e)),"function"==typeof t?t.call(e,e):e.to(t),this},linker(){const t=this.parent();return t&&"a"===t.node.nodeName.toLowerCase()?t:null}}}),gr(ao,"A");class lo extends di{constructor(t,e=t){super(dr("mask",t),e)}remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return Kr("svg [mask*="+this.id()+"]")}}Gn({Container:{mask:xr(function(){return this.defs().put(new lo)})},Element:{masker(){return this.reference("mask")},maskWith(t){const e=t instanceof lo?t:this.parent().mask().add(t);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),gr(lo,"Mask");class uo extends hi{constructor(t,e=t){super(dr("stop",t),e)}update(t){return("number"==typeof t||t instanceof oi)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new oi(t.offset)),this}}Gn({Gradient:{stop:function(t,e,n){return this.put(new uo).update(t,e,n)}}}),gr(uo,"Stop");class ho extends hi{constructor(t,e=t){super(dr("style",t),e)}addText(t=""){return this.node.textContent+=t,this}font(t,e,n={}){return this.rule("@font-face",{fontFamily:t,src:e,...n})}rule(t,e){return this.addText(function(t,e){if(!t)return"";if(!e)return t;let n=t+"{";for(const t in e)n+=Vn(t)+":"+e[t]+";";return n+="}",n}(t,e))}}Gn("Dom",{style(t,e){return this.put(new ho).rule(t,e)},fontface(t,e,n){return this.put(new ho).font(t,e,n)}}),gr(ho,"Style");class co extends Gs{constructor(t,e=t){super(dr("textPath",t),e)}array(){const t=this.track();return t?t.array():null}plot(t){const e=this.track();let n=null;return e&&(n=e.plot(t)),null==t?n:this}track(){return this.reference("href")}}Gn({Container:{textPath:xr(function(t,e){return t instanceof Gs||(t=this.text(t)),t.path(e)})},Text:{path:xr(function(t,e=!0){const n=new co;let r;if(t instanceof cs||(t=this.defs().path(t)),n.attr("href","#"+t,or),e)for(;r=this.node.firstChild;)n.node.appendChild(r);return this.put(n)}),textPath(){return this.findOne("textPath")}},Path:{text:xr(function(t){return t instanceof Gs||(t=(new Gs).addTo(this.parent()).text(t)),t.path(this)}),targets(){return Kr("svg textPath").filter(t=>(t.attr("href")||"").includes(this.id()))}}}),co.prototype.MorphArray=rs,gr(co,"TextPath");class fo extends mi{constructor(t,e=t){super(dr("use",t),e)}use(t,e){return this.attr("href",(e||"")+"#"+t,or)}}Gn({Container:{use:xr(function(t,e){return this.put(new fo).use(t,e)})}}),gr(fo,"Use");const po=fr;wr([Ns,Ds,Ti,Ei,Pi],Hn("viewbox")),wr([$i,ys,bs,cs],Hn("marker")),wr(Gs,Hn("Text")),wr(cs,Hn("Path")),wr(pi,Hn("Defs")),wr([Gs,Hs],Hn("Tspan")),wr([vs,Mi,Ci,As],Hn("radius")),wr(ni,Hn("EventTarget")),wr(ui,Hn("Dom")),wr(hi,Hn("Element")),wr(mi,Hn("Shape")),wr([di,Ai],Hn("Container")),wr(Ci,Hn("Gradient")),wr(As,Hn("Runner")),Hr.extend([...new Set(Bn)]),function(t=[]){hs.push(...[].concat(t))}([oi,Fr,qr,Yr,si,Di,rs,$r]),wr(hs,{to(t){return(new ss).type(this.constructor).from(this.toArray()).to(t)},fromArray(t){return this.init(t),this},toConsumable(){return this.toArray()},morph(t,e,n,r,i){return this.fromArray(t.map(function(t,s){return r.step(t,e[s],n,i[s],i)}))}});const mo=function(){const t=sn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#000000"),e=t.luminance();return e<.3?t.brighten(2).hex():e<.5?t.brighten(1).hex():t.saturate(.5).hex()};function go(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function bo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?go(Object(n),!0).forEach(function(e){yo(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function yo(t,e,n){return(e=function(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vo(t,e,n){wo(t,e),e.set(t,n)}function wo(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xo(t,e){return t.get(ko(t,e))}function _o(t,e,n){return t.set(ko(t,e),n),n}function ko(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Mo=new WeakMap,Oo=new WeakMap,Ao=new WeakMap,jo=new WeakMap,So=new WeakMap,Co=new WeakMap,Eo=new WeakMap,To=new WeakMap,No=new WeakMap,Do=new WeakMap,Lo=new WeakMap,Ro=new WeakSet;class Io{constructor(t){let{width:e="auto",height:n="auto",className:r,style:i,autoInit:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var o;wo(this,o=Ro),o.add(this),vo(this,Mo,void 0),vo(this,Oo,void 0),vo(this,Ao,void 0),vo(this,jo,void 0),vo(this,So,void 0),vo(this,Co,void 0),vo(this,Eo,void 0),vo(this,To,void 0),vo(this,No,void 0),vo(this,Do,void 0),vo(this,Lo,void 0),this.target=t||null,this.width="auto"==e?1400:e,this.height="auto"==n?400:n,this.className=r||null,this.style=i||null,_o(Lo,this,{x:e,y:n}),_o(Do,this,{x:20,y:20}),_o(Eo,this,[]),_o(To,this,[]),_o(So,this,u()(Pn)),_o(jo,this,ko(Ro,this,$o).call(this)),_o(Ao,this,u()(xo(jo,this))),_o(Mo,this,Un||{}),_o(Oo,this,Yn||[]),_o(Co,this,Wn),_o(No,this,null),s&&ko(Ro,this,zo).call(this)}build(){return ko(Ro,this,zo).call(this),xo(No,this).svg()}update(){ko(Ro,this,zo).call(this)}importData(t){let e=[];if("object"==typeof t&&Array.isArray(t))e=t;else try{e=JSON.parse(t),Array.isArray(e)||(e=[])}catch(n){0==(t=b().parse(t,{header:!0,dynamicTyping:!0,skipEmptyLines:!0})).errors.length?e=t.data:console.log(t.errors)}return this.data=e,e.length>0&&this.settings["data-input"]&&"object"==typeof this.data[0]&&!Array.isArray(this.data[0])&&(this.headers=Object.keys(this.data[0]).filter(t=>""!==t),this.settings["data-input"]={dateColumn:this.headers[0],valueColumn:this.headers[1]},this.settings["data-input"].show=!0),e.length>0}reset(){_o(To,this,[]),_o(Eo,this,[]),_o(Ao,this,u()(xo(jo,this)))}resetSettings(){_o(Ao,this,u()(xo(jo,this)))}get settingsSave(){return ko(Ro,this,Fo).call(this,xo(jo,this),this.settings)}set settings(t){_o(Ao,this,m()(xo(Ao,this),t))}get settings(){return xo(Ao,this)}settingsHTML(){let t=0,e='<form id="settingsform">';for(let n in xo(Mo,this)){let r="ps-"+crypto.randomUUID(),i="ps-"+crypto.randomUUID();e+='<div style="cursor:pointer;" class="small fw-bold mt-3 mb-2 d-flex justify-content-between align-items-center" data-bs-toggle="collapse" data-bs-target="#'.concat(r,'" aria-controls="Toggle ').concat(n,'">\n        ').concat(n,'\n        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-expand me-1" viewBox="0 0 16 16">\n          <path fill-rule="evenodd" d="M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z"/>\n        </svg>\n      </div>'),e+='<div class="collapse '.concat(t?"":"show",'" id="').concat(r,'" data-bs-parent="#settingsform">'),e+='<div class="accordion" id="'.concat(i,'">');for(let r in xo(Mo,this)[n]){let s=xo(So,this).findIndex(t=>t.id==xo(Mo,this)[n][r]);if(-1!=s&&(void 0!==xo(So,this)[s].show||void 0!==xo(So,this)[s].options)){if(e+='<div class="accordion-item">\n          <h2 class="accordion-header" id="heading'.concat(s,'">\n            <button class="accordion-button collapsed ps-5" type="button" data-bs-toggle="collapse" data-bs-target="#collapse').concat(s,'" aria-expanded="').concat(0===t?"true":"false",'" aria-controls="collapse').concat(s,'">\n            ').concat(xo(So,this)[s].headerTitle,"\n            </button>\n            ").concat(ko(Ro,this,Yo).call(this,[xo(So,this)[s].id,"show"].join("."),{value:xo(So,this)[s].show,label:"",disabled:xo(So,this)[s].disabled||!1}),'\n          </h2>\n          <div id="collapse').concat(s,'" class="accordion-collapse collapse" aria-labelledby="heading').concat(s,'" data-bs-parent="#').concat(i,'">\n            <div class="accordion-body row">'),void 0!==xo(So,this)[s].options&&xo(So,this)[s].options.length>0)for(let t in xo(So,this)[s].options){let n=xo(So,this)[s].options[t],r=[xo(So,this)[s].id,n.name].join(".");switch(n.type){case"color":e+=ko(Ro,this,Wo).call(this,r,bo({},n));break;case"text":e+=ko(Ro,this,Uo).call(this,r,bo({},n));break;case"check":e+=ko(Ro,this,Po).call(this,r,bo({},n));break;case"range":e+=ko(Ro,this,qo).call(this,r,bo({},n));break;case"select":e+=ko(Ro,this,Bo).call(this,r,bo({},n));break;case"scales":e+=ko(Ro,this,Go).call(this,r,bo({},n));break;case"help":e+=ko(Ro,this,Ho).call(this,bo({},n));break;case"separator":e+='<div class="separator"><hr></div>'}}else e+='<div class="form-text">No settings available</div>';e+="</div>\n          </div>\n        </div>",t++}}e+="</div>",e+="</div>"}return e+="</form>",e}applyPreset(t){var e;this.settings=(null===(e=this.presets[t])||void 0===e?void 0:e.settings)||{}}get presets(){return xo(Co,this)}set data(t){_o(Eo,this,t)}get data(){return xo(Eo,this)}set headers(t){_o(To,this,t)}get headers(){return xo(To,this)}presetsHTML(){let t='<select class="form-select form-select-sm" aria-label="Default select example" id="presets-selector">';if(t+='<option value="-1" disabled selected>Select&hellip;</option>',Array.isArray(this.presets))for(let e in this.presets)t+='<option value="'.concat(e,'">').concat(this.presets[e].title,"</option>");else if("object"==typeof this.presets)for(let e in this.presets){t+='<optgroup label="'.concat(e,'">');for(let n in this.presets[e])t+='<option value="'.concat(e,"[").concat(n,']">').concat(this.presets[e][n].title,"</option>");t+="</optgroup>"}return t+="</select>",t}destroy(){xo(No,this).remove()}}function zo(){var t;if(xo(No,this)||(this.target&&"string"==typeof this.target?(_o(No,this,po().addTo(this.target).size(this.width,this.height)),this.className&&xo(No,this).addClass(this.className),this.style&&xo(No,this).css(style)):_o(No,this,po().size(this.width,this.height)),xo(No,this).viewbox(0,0,this.width,this.height)),xo(No,this).clear(),null!==(t=this.settings)&&void 0!==t&&null!==(t=t.darkmode)&&void 0!==t&&t.show){var e=xo(No,this).defs();let t=[];for(let e in this.settings){var n,r,i;null!==(n=this.settings[e])&&void 0!==n&&n.fontColor&&t.push(" .".concat(e," { fill: ").concat(mo(this.settings[e].fontColor)," !important;}")),null!==(r=this.settings[e])&&void 0!==r&&r.tileFuture&&t.push(" .future { fill: ".concat(mo(null===(i=this.settings[e])||void 0===i?void 0:i.tileColor)," !important;}"))}let s="@media (prefers-color-scheme: dark) {\n";s+=t.join("\n"),s+="\n}",e.element("style").words(s)}var s={},o=xo(Do,this).x,a=xo(Do,this).y,l=0;for(let t in xo(Oo,this)){let e=xo(Oo,this)[t];if(this.settings[e]&&this.settings[e].show||"calendar"==e){let t=bo({},this.settings[e]);switch(e){case"title":let e=w(xo(No,this),bo(bo({},t),{x:o,y:a})).bbox();a+=e.height,l=e.width>l?e.width:l;break;case"subtitle":let n=x(xo(No,this),bo(bo({},t),{x:o,y:a})).bbox();a+=n.height,l=n.width>l?n.width:l;break;case"scale":s.scale=on(xo(No,this),bo({},t));break;case"legend":s.legend=an(xo(No,this),bo({},t));break;case"transform":s.transform=un(xo(No,this),bo({},t));break;case"tooltip":s.tooltip=dn(xo(No,this),bo({},t));break;case"hover":s.hover=ln(xo(No,this),bo({},t));break;case"darkmode":s.darkmode=pn(xo(No,this),bo({},t));break;case"calendar-month":s.calendarMonthLabels=In(xo(No,this),bo({},t));break;case"calendar-week":s.calendarWeekLabels=zn(xo(No,this),bo({},t));break;case"data-input":s.dataInput=Fn(xo(No,this),bo({},t));break;case"i18n":s.i18n=En(bo({},t));break;case"calendar":a+=a>xo(Do,this).y?20:0;let{x:r,y:i}=Tn(xo(No,this),bo(bo(bo(bo({},t),s),{x:o,y:a}),{},{data:this.data}));r=r<l?l:r,r+=xo(Do,this).x,i+=xo(Do,this).y,xo(No,this).size("auto"==xo(Lo,this).x?r:this.width,"auto"==xo(Lo,this).y?i:this.height),xo(No,this).viewbox(0,0,r,i)}}}}function Fo(t,e){const n={};for(const r in e){const i=null==t?void 0:t[r],s=e[r];if(d()(i)&&d()(s)){const t=ko(Ro,this,Fo).call(this,i,s);Object.keys(t).length>0&&(n[r]=t)}else c()(i,s)||(n[r]=s)}return n}function $o(){let t={};for(let e in xo(So,this)){t[xo(So,this)[e].id]={};for(let n of Object.entries(xo(So,this)[e]))if(["id","disabled","options","headerTitle"].includes(n[0])||(t[xo(So,this)[e].id][n[0]]=n[1]),"options"===n[0])for(let r of n[1])r.name&&(t[xo(So,this)[e].id][r.name]=r.value)}return t}function Po(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"check",{value:e=!0,label:n="label",className:r="",disabled:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="ch-"+crypto.randomUUID();return'<div class="form-check mb-1">\n      <input class="form-check-input" name="'.concat(t,'" type="checkbox" value="',!0,'" id="').concat(s,'" ').concat(e?"checked":"",'>\n      <label class="form-check-label" for="').concat(s,'">').concat(n,"</label>\n    </div>")}function Yo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"switch",{value:e=!0,label:n="label",className:r="",disabled:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="ch-"+crypto.randomUUID();return'<div class="form-check form-switch fs-6" style="position:relative; margin:-2.1rem .5rem .6rem .5rem; z-index:10; width:2em;">\n    <input class="form-check-input" type="checkbox" role="switch" name="'.concat(t,'" value="',!0,'" id="').concat(s,'" ').concat(e?"checked":""," ").concat(i?"disabled":"",' switch>\n    <label class="form-check-label" for="').concat(s,'">').concat(n,"</label>\n  </div>")}function Uo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"text",{value:e="Text",label:n="label",icon:r="",className:i="",disabled:s=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o="ch-"+crypto.randomUUID();return'<div class="mb-1 '.concat(i,'">\n      <label for="').concat(o,'" class="form-label">').concat(n,"</label>").concat(r,'\n      <input type="text" class="form-control form-control-sm" name="').concat(t,'" id="').concat(o,'" placeholder="').concat(e,'" value="').concat(e,'">\n    </div>')}function Wo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"color",{value:e="#000000",label:n="label",className:r="",disabled:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="ch-"+crypto.randomUUID();return'<div class="d-flex mb-1 '.concat(r,'">\n      <input type="color" class="form-control form-control-color" name="').concat(t,'" id="').concat(s,'" value="').concat(e,'" title="Choose ').concat(n,' color">\n      <label for="').concat(s,'" class="col-sm-9 col-form-label">').concat(n,"</label>\n    </div>")}function qo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"range",{value:e=-1,label:n="label",icon:r="",step:i=1,min:s=0,max:o=1,className:a="",disabled:l=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u="ch-"+crypto.randomUUID();return'<div class="mt-1">\n    <label for="'.concat(u,'" class="form-label" style="margin-bottom:-1.5rem">\n      ').concat(n," (").concat(s,"-").concat(o,", default: ").concat(e,")\n    </label>").concat(r,'\n    <input type="range" class="form-range" name="').concat(t,'" id="').concat(u,'" value="').concat(e,'" min="').concat(s,'" max="').concat(o,'" step="').concat(i,'">      \n    </div>')}function Bo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"select",{value:e="",label:n="label",icon:r="",options:i=[],className:s="",disabled:o=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="ch-"+crypto.randomUUID();return i=i.map(t=>t.name?'<option value="'.concat(t.value,'"').concat(t.value==e?"selected":"",">").concat(t.name,"</option>"):'<option value="'.concat(t,'"').concat(t==e?"selected":"",">").concat(t,"</option>")),'<div class="mb-2 '.concat(s,'">\n      <label for="').concat(a,'" class="form-label">').concat(n,"</label>").concat(r,'\n      <select class="form-select form-select-sm" name="').concat(t,'" id="').concat(a,'">').concat(i.join("\n"),"</select>\n    </div>")}function Go(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scales",{value:e="",label:n="label",options:r=[],className:i="",disabled:s=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r=r.map(n=>{let r="ch-"+crypto.randomUUID();return'<div>\n        <input class="form-radio-scale d-none" type="radio" name="'.concat(t,'" value="').concat(n.name,'" autocomplete="off" id="').concat(r,'" ').concat(n.name==e?"checked":"",'>\n        <label class="form-check-label border" for="').concat(r,'" title="').concat(n.name,'" style="background: linear-gradient( to bottom, ').concat(n.value.map((t,e)=>"".concat(t," ").concat(20*e,"%, ").concat(t," ").concat(20*(e+1),"%")).join(","),'); width:15px; height:75px;"></label>\n        </div>')}),'<div class="mb-1 '.concat(i,'">\n        <label class="form-check-label mb-1">').concat(n,'</label>\n        <div class="p-1" style="display:flex; flex-wrap: wrap; column-gap: 5px;">\n          ').concat(r.join("\n"),"\n        </div>\n      </div>")}function Ho(t){let e="ch-"+crypto.randomUUID();return"inline"==t.display?"<span>".concat(t.content,"</span>"):"block"==t.display?'<div id="'.concat(e,'" class="form-text">\n        ').concat(t.content,"\n      </div>"):void 0}})(),r.default})());
//# sourceMappingURL=calendarheatmap.min.js.map